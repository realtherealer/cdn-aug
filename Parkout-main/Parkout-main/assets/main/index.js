System.register("chunks:///_virtual/ActiveExitVehicleFeedBack.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,a,n,c,l,o,s,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,c=e._decorator,l=e.ParticleSystem,o=e.Material,s=e.MeshRenderer,m=e.Component}],execute:function(){var u,h,p,_,d,M,f,y,C;n._RF.push({},"d6d70KSECFKe7iEppHqKFeJ","ActiveExitVehicleFeedBack",void 0);var g=c.ccclass,v=c.property;e("ActiveExitVehicleFeedBack",(u=g("ActiveExitVehicleFeedBack"),h=v({type:l}),p=v(o),_=v(o),u((f=t((M=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return t=e.call.apply(e,[this].concat(n))||this,r(t,"m_Particle",f,a(t)),r(t,"m_MatGreen",y,a(t)),r(t,"m_MatRed",C,a(t)),t.m_Material=void 0,t.m_TimeMax=.75,t.m_CurrentTimer=0,t.m_MatChange=!1,t}i(t,e);var n=t.prototype;return n.start=function(){},n.update=function(e){this.m_MatChange&&(this.m_CurrentTimer+=1*e,this.m_CurrentTimer>=this.m_TimeMax&&(this.node.getComponentInChildren(s).setMaterial(this.m_MatRed,2),this.m_MatChange=!1))},n.ActivateFeedBack=function(){this.m_MatChange=!0,this.m_CurrentTimer=0,this.m_Particle.stop(),this.m_Particle.play(),this.node.getComponentInChildren(s).setMaterial(this.m_MatGreen,2)},t}(m)).prototype,"m_Particle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(M.prototype,"m_MatGreen",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(M.prototype,"m_MatRed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=M))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/ActiveOnOrientation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n,e,r,o,a,c,s,l,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.CCBoolean,s=t.log,l=t.screen,p=t.Component}],execute:function(){var u,h,d,f,v,w,g;o._RF.push({},"5f3capj3elIn6+875WtUYnc","ActiveOnOrientation",void 0);var y=a.ccclass,O=a.property;t("ActiveOnOrientation",(u=y("ActiveOnOrientation"),h=O(c),d=O(c),u((w=i((v=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,e(i,"landscape",w,r(i)),e(i,"portrait",g,r(i)),i}n(i,t);var o=i.prototype;return o.onLoad=function(){this.onOrientationChange(this.node)},o.start=function(){},o.onOrientationChange=function(t){s("onOrientationChange",this.name,this.landscape,this.portrait,this.node,l),t.active=!1,l.windowSize.width>=l.windowSize.height&&this.landscape&&(t.active=!0),l.windowSize.width<l.windowSize.height&&this.portrait&&(t.active=!0)},o.onDestroy=function(){},i}(p)).prototype,"landscape",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=i(v.prototype,"portrait",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=v))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Anim.ts",["cc"],(function(i){"use strict";var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"cedd8krIMNMyKxysahiVmz/","Anim",void 0);var I=i("Anim",(function(){}));I.ENTER_COLLISION_VEHICLE_FORWARD="EnterCollisionVehicleForward",I.ENTER_COLLISION_VEHICLE_BACKWARD="EnterCollisionVehicleBackward",I.VEHICLE_BRAKE="VehicleBrake",I.FINGER_UP="FingerUp",I.FINGER_RIGHT="FingerRight",I.COLLISION_VEHICLE_LEFT="CollisionVehicleLeft",I.COLLISION_VEHICLE_RIGHT="CollisionVehicleRight",I.COLLISION_VEHICLE_DOWN="CollisionVehicleDown",I.COLLISION_VEHICLE_UP="CollisionVehicleUp",I.BARRIERE_HIT="BarriereHit",I.PYLONE_HIT="PyloneHit",I.SMILEY_ANIM="SmileyAnim",e._RF.pop()}}}));

System.register("chunks:///_virtual/Barriere.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Anim.ts","./ObjectOnParking.ts"],(function(n){"use strict";var r,e,i,t,c;return{setters:[function(n){r=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator},function(n){t=n.Anim},function(n){c=n.ObjectOnParking}],execute:function(){var o;e._RF.push({},"6d1b6APYT9Px5wT75ULAZTJ","Barriere",void 0);var s=i.ccclass;i.property,n("Barriere",s("Barriere")(o=function(n){function e(){for(var r,e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return(r=n.call.apply(n,[this].concat(i))||this).AnimName=null,r}return r(e,n),e.prototype.CollisionVehicle=function(){null!=this.m_Anim&&(this.AnimName=t.BARRIERE_HIT),this.m_Anim.play(this.AnimName)},e}(c))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/BasePopup.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var o,i,t,e,a,r,c,s,l,m,u;return{setters:[function(n){o=n.applyDecoratedDescriptor,i=n.inheritsLoose,t=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,c=n.Enum,s=n.Vec2,l=n.Vec3,m=n.tween,u=n.Component}],execute:function(){var h,p,f,d,b,k,w;a._RF.push({},"da65ejzFnVFAZPBJmkBS2rC","BasePopup",void 0);var T,v,F=r.ccclass,y=r.property;!function(n){n[n.FromLeft=0]="FromLeft",n[n.FromRight=1]="FromRight",n[n.FromTop=2]="FromTop",n[n.FromBottom=3]="FromBottom",n[n.Puyon=4]="Puyon"}(T||(T={})),function(n){n[n.ToLeft=0]="ToLeft",n[n.ToRight=1]="ToRight",n[n.ToTop=2]="ToTop",n[n.ToBottom=3]="ToBottom",n[n.Shrink=4]="Shrink"}(v||(v={}));n("BasePopup",(h=F("BasePopup"),p=y({type:c(T)}),f=y({type:c(v)}),h((k=o((b=function(n){function o(){for(var o,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return o=n.call.apply(n,[this].concat(a))||this,t(o,"showAnimation",k,e(o)),t(o,"hideAnimation",w,e(o)),o.openCallback=void 0,o.closeCallback=void 0,o.instance=void 0,o}i(o,n);var a=o.prototype;return a.initPopup=function(n,o){this.openCallback=n,this.closeCallback=o},a.showPopup=function(){switch(null!=this.openCallback&&this.openCallback(),this.showAnimation){case T.FromLeft:this.animationMoveFrom(new s(-1e3,0));break;case T.FromRight:this.animationMoveFrom(new s(1e3,0));break;case T.FromTop:this.animationMoveFrom(new s(0,600));break;case T.FromBottom:this.animationMoveFrom(new s(0,-600));break;case T.Puyon:this.animationScale(new s(.05,.05),new s(1,1),"circIn");break;default:this.animationMoveFrom(new s(-1e3,0))}},a.closePopup=function(){var n=this;switch(this.hideAnimation){case v.ToLeft:this.animationMoveTo(new s(-1e3,0),"backIn",(function(){n.endHideAnimation()}));break;case v.ToRight:this.animationMoveTo(new s(1e3,0),"backIn",(function(){n.endHideAnimation()}));break;case v.ToTop:this.animationMoveTo(new s(0,600),"backIn",(function(){n.endHideAnimation()}));break;case v.ToBottom:this.animationMoveTo(new s(0,-600),"backIn",(function(){n.endHideAnimation()}));break;case v.Shrink:this.animationScale(new s(1,1),new s(.05,.05),"backIn",(function(){n.endHideAnimation()}));break;default:this.endHideAnimation()}},a.endHideAnimation=function(){null!=this.closeCallback&&this.closeCallback(),this.node.destroy()},a.animationMoveFrom=function(n){this.node.setPosition(new l(n.x,n.y,0)),this.animationMoveTo(s.ZERO,"circOut")},a.animationMoveTo=function(n,o,i){m().target(this.node).to(.4,{position:new l(n.x,n.y,0)},{easing:o}).call((function(){null!=i&&i()})).start()},a.animationScale=function(n,o,i,t){this.node.setScale(new l(n.x,n.y,1));m().target(this.node).to(.4,{scale:new l(o.x,o.y,1)},{easing:i}).call((function(){null!=t&&t()})).start()},o}(u)).prototype,"showAnimation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.FromLeft}}),w=o(b.prototype,"hideAnimation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.ToRight}}),d=b))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/CanvasTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OkPopup.ts","./ShopPopup.ts"],(function(o){"use strict";var e,t,n,s,c,i,a,r,p,u,y;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator,s=o.log,c=o.input,i=o.Input,a=o.KeyCode,r=o.UITransform,p=o.Component},function(o){u=o.OkPopup},function(o){y=o.ShopPopup}],execute:function(){var l;t._RF.push({},"2b8cbfXSjJLxqtxJinfS5dr","CanvasTest",void 0);var h=n.ccclass;n.property,o("CanvasTest",h("CanvasTest")(l=function(o){function t(){return o.apply(this,arguments)||this}e(t,o);var n=t.prototype;return n.start=function(){s("start")},n.onLoad=function(){c.on(i.EventType.KEY_DOWN,this.onKeyDown,this),c.on(i.EventType.KEY_UP,this.onKeyUp,this),c.on(i.EventType.TOUCH_START,this.onTouchStart,this)},n.onDestroy=function(){c.off(i.EventType.KEY_DOWN,this.onKeyDown,this),c.off(i.EventType.KEY_UP,this.onKeyUp,this),c.off(i.EventType.TOUCH_START,this.onTouchStart,this)},n.onKeyDown=function(o){switch(s("onKeyDown",o.keyCode),o.keyCode){case a.KEY_A:console.log("Press a key")}},n.onKeyUp=function(o){switch(s("onKeyUp",o.keyCode),o.keyCode){case a.KEY_O:console.log("Release a key"),u.create("title","message","ok",null);break;case a.KEY_E:console.log("Release a key");break;case a.KEY_S:console.log("Release a key"),y.create(void 0,void 0)}},n.onTouchStart=function(o){var e=this.node.getComponent(r);s("onTouchStart",this.name,e.contentSize),console.log(o.getLocation()),console.log(o.getUILocation())},t}(p))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc"],(function(t){"use strict";var n,O;return{setters:[function(t){n=t.cclegacy,O=t.Color}],execute:function(){n._RF.push({},"d3dd2ZJx65COaqMFKtyTm/x","Constants",void 0);var e=t("default",(function(){}));e.VERSION="0.372",e.CLEAR_DATA=!1,e.DEBUG_MODE=!1,e.TEST_MODE=!1,e.SHOW_FPS=!1,e.PLAYTEST=!1,e.CHEAT_MODE=!1,e.DEBUG_ARCADE=!1,e.CONSOLE=!1,e.COLOR_SELECT=new O("#FF7000"),e.COLOR_LOCK=new O("#4B4B4B"),e.COLOR_UNLOCK=new O("#FFFFFF"),n._RF.pop()}}}));

System.register("chunks:///_virtual/CreationParking.ts",["cc","./ActiveExitVehicleFeedBack.ts"],(function(t){"use strict";var s,r,i,e,m;return{setters:[function(t){s=t.cclegacy,r=t._decorator,i=t.instantiate,e=t.Quat},function(t){m=t.ActiveExitVehicleFeedBack}],execute:function(){var o;s._RF.push({},"a83f2x1I0ZPmKVT77epn3OZ","CreationParking",void 0);var _=r.ccclass;r.property,t("CreationParking",_("CreationParking")(o=function(){function t(t,s){this.m_OffsetY=.01,this.m_OffsetRoad=1.5,this.m_Parent=void 0,this.m_Objects=new Array,this.m_Grid=void 0,this.m_Game=null,this.m_Endpark=void 0,this.m_Parent=t,this.m_Grid=s}var s=t.prototype;return s.CreateParking=function(t,s,r,m,o,_,a){if(t%2==0&&0==s){var n=i(r[0]);n.setParent(o),n.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a),this.m_Objects.push(n)}else if(t%2==1&&0==s){var h=i(r[0]);h.setParent(o),h.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a);var P=e.fromEuler(new e,0,-90,0);h.setRotation(P),this.m_Objects.push(h)}else if(t%2==0&&1==s){var f=i(r[1]);f.setParent(o),f.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a),this.m_Objects.push(f)}else if(t%2==1&&1==s){var d=i(r[1]);d.setParent(o),d.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a);var G=e.fromEuler(new e,0,180,0);d.setRotation(G),this.m_Objects.push(d)}else if(t%2==0&&s==m.m_GridArray.length-1){var u=i(r[0]);u.setParent(o),u.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a);var c=e.fromEuler(new e,0,90,0);u.setRotation(c),this.m_Objects.push(u)}else if(t%2==1&&s==m.m_GridArray.length-1){var y=i(r[0]);y.setParent(o),y.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a);var A=e.fromEuler(new e,0,180,0);y.setRotation(A),this.m_Objects.push(y)}else if(t%2==0&&s==m.m_GridArray.length-2){var O=i(r[1]);O.setParent(o),O.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a);var v=e.fromEuler(new e,0,0,0);O.setRotation(v),this.m_Objects.push(O)}else if(t%2==1&&s==m.m_GridArray.length-2){var l=i(r[1]);l.setParent(o),l.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a);var R=e.fromEuler(new e,0,180,0);l.setRotation(R),this.m_Objects.push(l)}else{var p=i(r[2]);p.setParent(o),p.setPosition(m.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,m.m_GridArray[t][s].m_PosZ*a),this.m_Objects.push(p)}},s.CreateRoad=function(t,s,r,o,_,a){if(t>=0&&0==s){var n=i(r[3]);n.setParent(this.m_Parent),n.setPosition(o.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,o.m_GridArray[t][s].m_PosZ*a-this.m_OffsetRoad),this.m_Objects.push(n)}if(0==t&&s>=0){var h=i(r[3]);h.setParent(this.m_Parent),h.setPosition(o.m_GridArray[t][s].m_PosX-this.m_OffsetRoad*_,this.m_OffsetY,o.m_GridArray[t][s].m_PosZ*a);var P=e.fromEuler(new e,0,90,0);h.setRotation(P),this.m_Objects.push(h)}if(t==o.m_Row-1&&s>=0){var f=i(r[3]);f.setParent(this.m_Parent),f.setPosition(o.m_GridArray[t][s].m_PosX+this.m_OffsetRoad*_,this.m_OffsetY,o.m_GridArray[t][s].m_PosZ*a);var d=e.fromEuler(new e,0,90,0);f.setRotation(d),this.m_Objects.push(f)}if(t>=0&&s==o.m_Col-1){var G=i(r[3]);G.setParent(this.m_Parent),G.setPosition(o.m_GridArray[t][s].m_PosX*_,this.m_OffsetY,o.m_GridArray[t][s].m_PosZ*a+this.m_OffsetRoad),this.m_Objects.push(G)}if(t==o.m_Row-1&&s==o.m_Col-1)for(var u=1;u<20;u++){var c=i(r[3]);c.setParent(this.m_Parent),c.setPosition(o.m_GridArray[t][s].m_PosX*_+this.m_OffsetRoad,this.m_OffsetY,o.m_GridArray[t][s].m_PosZ*a+1*u);var y=e.fromEuler(new e,0,90,0);if(c.setRotation(y),this.m_Objects.push(c),3==u){var A=i(r[5]);A.setParent(this.m_Parent),A.setPosition(o.m_GridArray[t][s].m_PosX*_+this.m_OffsetRoad,this.m_OffsetY,o.m_GridArray[t][s].m_PosZ*a+1*u),this.m_Objects.push(A),this.m_Endpark=A.getComponent(m)}}},s.CreationEnvironnement=function(t,s){var r=i(t[0]);r.setParent(s),r.setPosition(0,-.2,this.m_Grid.m_GridArray[this.m_Grid.m_Row-1][this.m_Grid.m_Col-1].m_PosZ+3.2);var m=e.fromEuler(new e,0,90,0);r.setRotation(m),this.m_Objects.push(r),(r=i(t[1])).setParent(s),r.setPosition(0,-.2,this.m_Grid.m_GridArray[this.m_Grid.m_Row-1][0].m_PosZ-3),m=e.fromEuler(new e,0,-90,0),r.setRotation(m),this.m_Objects.push(r),(r=i(t[3])).setParent(s),r.setPosition(this.m_Grid.m_GridArray[this.m_Grid.m_Row-1][this.m_Grid.m_Col-1].m_PosX+.5,-.2,this.m_Grid.m_GridArray[this.m_Grid.m_Row-1][this.m_Grid.m_Col-1].m_PosZ+3),this.m_Objects.push(r),(r=i(t[2])).setParent(s),r.setPosition(this.m_Grid.m_GridArray[0][0].m_PosX-7,-.2,this.m_Grid.m_GridArray[this.m_Grid.m_Row-1][this.m_Grid.m_Col-1].m_PosZ+2.5),m=e.fromEuler(new e,0,-90,0),r.setRotation(m),this.m_Objects.push(r),(r=i(t[2])).setParent(s),r.setPosition(this.m_Grid.m_GridArray[this.m_Grid.m_Row-1][0].m_PosX+7,-.2,this.m_Grid.m_GridArray[this.m_Grid.m_Row-1][this.m_Grid.m_Col-1].m_PosZ-25.5),m=e.fromEuler(new e,0,90,0),r.setRotation(m),this.m_Objects.push(r)},s.CreateCornerRoad=function(t,s,r){var m=i(t);m.setParent(this.m_Parent),m.setPosition(s.m_KnotArray[r].m_PosX,this.m_OffsetY,s.m_KnotArray[r].m_PosZ);var o=e.fromEuler(new e,0,s.m_KnotArray[r].m_Rotation,0);m.setRotation(o),this.m_Objects.push(m)},s.CreateArrowSprite=function(t,s,r,m){var o=i(t[4]);o.setPosition(s),o.setParent(r);var _=new e;e.fromEuler(_,-90,90-90*m,0),o.setRotation(_),this.m_Objects.push(o)},t}())||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/DemoScript.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PokiPlatform.ts"],(function(e){"use strict";var t,o,a,i,r,n,c,u,l,s,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,n=e._decorator,c=e.Label,u=e.game,l=e.AudioSource,s=e.log,p=e.Component},function(e){h=e.CCPokiSDK}],execute:function(){var d,m,S,y,f;r._RF.push({},"02a8cG1kBZMb6HG0cbbzmxL","DemoScript",void 0);var R=n.ccclass,k=n.property;e("DemoScript",(d=R("DemoScript"),m=k({type:c}),d((f=t((y=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return t=e.call.apply(e,[this].concat(r))||this,a(t,"outputLabel",f,i(t)),t.audioSource=null,t}o(t,e);var r=t.prototype;return r.start=function(){u.on(h.EVENT_REWARD_BREAK_DONE,this.onRewardBreakDone,this),u.on(h.EVENT_COMMERCIAL_BREAK_DONE,this.onCommercialBreakDone,this),u.on(h.EVENT_SHRABLE_URL_READY,this.onSharableLinkReady,this),this.audioSource=this.getComponent(l)},r.onShareableLinkClicked=function(e){h.shareableURL({difficulty:"easy",lives:3})},r.onSharableLinkReady=function(){var e=arguments[0];s("SharableURL:",e),this.outputLabel.string=e},r.onRewardBreakClicked=function(e){this.audioSource.pause(),h.gameplayStop(),h.rewardBreak()},r.onRewardBreakDone=function(){var e=arguments[0];e?(this.outputLabel.string="Reward video success.",s("Revive Player"),h.gameplayStart()):s("Game End Screen"),this.audioSource.play()},r.onCommercialBreakClicked=function(e){this.audioSource.pause(),h.gameplayStop(),h.commercialBreak()},r.onCommercialBreakDone=function(){h.gameplayStart(),this.audioSource.play()},t}(p)).prototype,"outputLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=y))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/EndLevelPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePopup.ts"],(function(e){"use strict";var t,n,o,i,p,a,l,r,u,s,c,d,h,m,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){p=e.cclegacy,a=e._decorator,l=e.Label,r=e.Button,u=e.Node,s=e.Sprite,c=e.instantiate,d=e.director,h=e.resources,m=e.randomRangeInt},function(e){v=e.BasePopup}],execute:function(){var P,b,C,y,L,g,_,f,w,B,E,T,R,z,A,k,S,I,x,U;p._RF.push({},"e5fa4hvDCxNR7hsug83oU5U","EndLevelPopup",void 0);var D=a.ccclass,N=a.property;e("EndLevelPopup",(P=D("EndLevelPopup"),b=N({type:l}),C=N({type:l}),y=N({type:l}),L=N({type:r}),g=N({type:r}),_=N({type:r}),f=N({type:u}),w=N({type:s}),P(((U=function(e){function t(){for(var t,n=arguments.length,p=new Array(n),a=0;a<n;a++)p[a]=arguments[a];return t=e.call.apply(e,[this].concat(p))||this,o(t,"m_congratzText",T,i(t)),o(t,"m_reward",R,i(t)),o(t,"m_rewardWithAd",z,i(t)),o(t,"m_adsButton",A,i(t)),o(t,"m_continueButton",k,i(t)),o(t,"m_shopButton",S,i(t)),o(t,"m_tapToContinueText",I,i(t)),o(t,"m_smileySprite",x,i(t)),t}n(t,e),t.create=function(e,n,o,i,p,a,l){t.gameManager=e,t.endLevelPopupVehicleCounter=n,t.endLevelPopupAdsRewardCounter=o,t.endLevelPopupRewardCallback=i,t.endLevelPopupOpenCallback=p,t.endLevelPopupCloseCallback=a,h.load("Popups/EndLevelPopup",t.onPrefabLoaded)},t.closeNow=function(){null!=t.instance&&(t.instance.getComponent(v).closePopup(),t.instance=void 0)};var p=t.prototype;return p.initEndLevelPopup=function(n,o){this.timerToActiveContinueButton();var i=["INCREDIBLE!","FABULOUS!","GREAT!","EXCELLENT!","PERFECT!","SUPER!"];this.m_congratzText.string=i[m(0,i.length)],this.m_reward.string=t.endLevelPopupVehicleCounter,this.m_rewardWithAd.string="+"+t.endLevelPopupAdsRewardCounter,this.m_adsButton.node.on(r.EventType.CLICK,this.showAds,this),this.m_shopButton.node.on(r.EventType.CLICK,this.showShopPopup,this),this.m_continueButton.node.on(r.EventType.CLICK,this.closePopup,this),e.prototype.initPopup.call(this,n,o),e.prototype.showPopup.call(this)},p.timerToActiveContinueButton=function(){this.m_continueButton.enabled=!1,this.scheduleOnce((function(){this.m_continueButton.enabled=!0}),3)},p.showPopup=function(){e.prototype.showPopup.call(this)},p.closePopup=function(){this.m_adsButton.interactable=!1,this.m_continueButton.interactable=!1,t.instance=void 0,e.prototype.closePopup.call(this)},p.showAds=function(){this.m_adsButton.interactable=!1,t.endLevelPopupRewardCallback()},p.showShopPopup=function(){t.gameManager.showShopPopup()},t}(v)).gameManager=void 0,U.endLevelPopupVehicleCounter=void 0,U.endLevelPopupAdsRewardCounter=void 0,U.endLevelPopupRewardCallback=void 0,U.endLevelPopupOpenCallback=void 0,U.endLevelPopupCloseCallback=void 0,U.instance=void 0,U.onPrefabLoaded=function(e,t){U.instance=c(t),U.instance.setParent(d.getScene().getChildByPath("UIGame/PopupContainer")),U.instance.getComponent(U).initEndLevelPopup(U.endLevelPopupOpenCallback,U.endLevelPopupCloseCallback)},T=t((E=U).prototype,"m_congratzText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(E.prototype,"m_reward",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(E.prototype,"m_rewardWithAd",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(E.prototype,"m_adsButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(E.prototype,"m_continueButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(E.prototype,"m_shopButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(E.prototype,"m_tapToContinueText",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(E.prototype,"m_smileySprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=E))||B));p._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectOnParking.ts","./CreationParking.ts","./Grid.ts","./InterfaceUser.ts","./Sound.ts","./SoundManager.ts","./Spline.ts","./UIManager.ts","./Vehicle.ts","./VehicleData.ts","./VictoryParticles.ts","./PokiManager.ts","./ShakeScreen.ts","./Constants.ts","./VehiclePack.ts","./ProceduralLevel.ts","./PlayerInfo.ts","./Obstacle.ts","./EndLevelPopup.ts","./ShopPopup.ts"],(function(e){"use strict";var i,t,r,a,n,s,o,h,m,l,_,c,u,d,f,P,v,g,b,V,p,y,C,G,M,k,S,O,A,I,T,L,w,D,E,N,B,x,R,X,z,Z,j,U,F,Y,K,W,H,q,J;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,o=e.DirectionalLight,h=e.CCFloat,m=e.CCInteger,l=e.Camera,_=e.Prefab,c=e.Node,u=e.input,d=e.Input,f=e.KeyCode,P=e.log,v=e.resources,g=e.JsonAsset,b=e.geometry,V=e.PhysicsSystem,p=e.Vec3,y=e.Color,C=e.find,G=e.screen,M=e.Quat,k=e.instantiate,S=e.director,O=e.tween,A=e.UIOpacity,I=e.sys,T=e.Component},function(e){L=e.ObjectOnParking},function(e){w=e.CreationParking},function(e){D=e.Grid},function(e){E=e.InterfaceUser},function(e){N=e.Sound},function(e){B=e.SoundManager},function(e){x=e.Spline},function(e){R=e.UIManager},function(e){X=e.Vehicle},function(e){z=e.VehicleData},function(e){Z=e.VictoryParticles},function(e){j=e.PokiManager},function(e){U=e.ShakeScreen},function(e){F=e.default},function(e){Y=e.VehiclePack},function(e){K=e.default},function(e){W=e.PlayerInfo},function(e){H=e.Obstacle},function(e){q=e.EndLevelPopup},function(e){J=e.ShopPopup}],execute:function(){var Q,$,ee,ie,te,re,ae,ne,se,oe,he,me,le,_e,ce,ue,de,fe,Pe,ve,ge,be,Ve,pe,ye,Ce,Ge,Me,ke,Se,Oe,Ae,Ie,Te,Le,we,De,Ee,Ne,Be,xe,Re,Xe,ze,Ze,je,Ue;n._RF.push({},"8eab5cYFTNDa4z3dFWRogAu","Game",void 0);var Fe=s.ccclass,Ye=s.property;e("Game",(Q=Fe("Game"),$=Ye({type:R}),ee=Ye(B),ie=Ye({type:j}),te=Ye(U),re=Ye(o),ae=Ye({type:h}),ne=Ye({type:m}),se=Ye({type:m}),oe=Ye({type:l}),he=Ye({type:_}),me=Ye({type:_}),le=Ye({type:_}),_e=Ye(E),ce=Ye(c),ue=Ye({type:h}),de=Ye({type:h}),fe=Ye({type:c}),Pe=Ye({type:c}),ve=Ye({type:c}),ge=Ye({type:c}),be=Ye(_),Ve=Ye(Y),Q((Ce=i((ye=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return i=e.call.apply(e,[this].concat(n))||this,r(i,"m_uiManager",Ce,a(i)),r(i,"m_SoundManager",Ge,a(i)),r(i,"m_PokiManager",Me,a(i)),r(i,"m_ShakeCamera",ke,a(i)),r(i,"m_MainLight",Se,a(i)),r(i,"m_DistanceSlide",Oe,a(i)),r(i,"m_Index",Ae,a(i)),r(i,"m_LevelToTest",Ie,a(i)),r(i,"m_Camera",Te,a(i)),r(i,"m_Prefab",Le,a(i)),r(i,"m_Tiles",we,a(i)),r(i,"m_Enviro",De,a(i)),r(i,"m_Ui",Ee,a(i)),r(i,"m_BackGround",Ne,a(i)),r(i,"m_OffsetX",Be,a(i)),r(i,"m_OffsetZ",xe,a(i)),r(i,"m_VictoryParticles",Re,a(i)),r(i,"m_NodeRoadParent",Xe,a(i)),r(i,"m_NodeParkingParent",ze,a(i)),r(i,"m_NodeEnviroParent",Ze,a(i)),r(i,"m_TrailArray",je,a(i)),r(i,"m_VehiclePack",Ue,a(i)),i.m_allLevels=void 0,i.m_allSkins=void 0,i.m_allTrails=void 0,i.m_Trail=null,i.m_PackVehicleSelect=[],i.m_PackVehicle=[],i.m_MainGrid=null,i.m_Parking=null,i.m_Spline=void 0,i.m_Vehicle=null,i.m_VehicleMove=!1,i.m_ButtonPress=!1,i.m_CurrentTouchID=-1,i.m_Object=[],i.m_MouseStartPosition=void 0,i.m_VehicleNode=null,i.m_VehicleExit=0,i.m_CoinGlobal=0,i.m_VehicleId=0,i.m_vehicleCounter=0,i.m_OffsetCameraZ=-3,i.m_OffsetCameraX=-1,i.m_OffsetCameraY=10,i.m_IndexOffset=0,i}t(i,e);var n=i.prototype;return n.onLoad=function(){u.on(d.EventType.TOUCH_START,this.OnTouchDown,this),u.on(d.EventType.TOUCH_MOVE,this.OnTouchMove,this),u.on(d.EventType.TOUCH_END,this.OnTouchUp,this),u.on(d.EventType.KEY_DOWN,this.onKeyDown,this),this.firstLoad()},n.onKeyDown=function(e){switch(e.keyCode){case f.KEY_R:null!=q.instance||null!=J.instance||this.m_PokiManager.adsIsRunning||(this.m_PokiManager.sendEvent(j.POKIEVENTTYPE.gameplayStop),this.retryLevel());break;case f.ESCAPE:this.showShopPopup()}if(F.CHEAT_MODE)switch(e.keyCode){case f.KEY_C:localStorage.clear(),P("localStorage cleared");break;case f.KEY_O:this.addCoins(10),P("add okash");break;case f.KEY_W:this.GoToNextLevel()}},n.onDestroy=function(){F.TEST_MODE&&u.off(d.EventType.KEY_DOWN,this.onKeyDown,this)},n.firstLoad=function(){var e=this;v.load("trailsData",g,(function(i,t){e.m_allTrails=t.json,e.secondLoad()}))},n.secondLoad=function(){var e=this;v.load("skinsData",g,(function(i,t){e.m_allSkins=t.json,e.thirdLoad()}))},n.thirdLoad=function(){var e=this;v.load("levelsData",g,(function(i,t){e.m_allLevels=t.json,e.startAfterLoad()}))},n.startAfterLoad=function(){F.TEST_MODE&&(this.m_Index=this.m_LevelToTest),F.CLEAR_DATA&&this.ClearStorage(),this.m_VehicleId=0,this.LoadSave(),this.LoadLevel(),this.UpdateLevelLabel(this.m_Index),this.m_PokiManager.pokiEventStart(),this.m_uiManager.init(this)},n.update=function(e){},n.OnTouchDown=function(e){if(this.m_CurrentTouchID<0){this.m_CurrentTouchID=e.getID();var i=new b.Ray;this.m_Camera.screenPointToRay(e.getLocationX(),e.getLocationY(),i);if(this.m_ButtonPress=!0,V.instance.raycastClosest(i,4294967295,1e7,!0)){var t=V.instance.raycastClosestResult,r=t.collider,a=t.hitPoint;null==r.node.getComponent(X)||r.node.getComponent(X).m_MoveToExit||(this.m_MouseStartPosition=a.clone(),this.m_Vehicle=r.getComponent(X),this.m_VehicleNode=r.node,this.m_Vehicle.pressed(),this.m_SoundManager.playSound(N.VEHICLE_SELECTION))}}},n.OnTouchMove=function(e){if(this.m_CurrentTouchID==e.getID()&&null!=this.m_Vehicle&&null!=this.m_Vehicle.m_VehicleData){var i=new b.Ray;this.m_Camera.screenPointToRay(e.getLocationX(),e.getLocationY(),i);if(null!=this.m_MouseStartPosition&&this.m_ButtonPress){var t;if(V.instance.raycastClosest(i,4294967295,1e7,!0))t=V.instance.raycastClosestResult.hitPoint.clone();var r=this.m_MouseStartPosition.x-t.x,a=this.m_MouseStartPosition.z-t.z;if(p.distance(this.m_MouseStartPosition,t)>=this.m_DistanceSlide)this.m_Vehicle.CollisionDisable(),this.m_VehicleNode.eulerAngles.y<=-89?r<0?(this.m_MouseStartPosition=null,this.CheckCollisionGrid(1,0,this.m_Vehicle.m_VehicleData.m_NodeGridArray,90,!1,!0,0)):(this.m_MouseStartPosition=null,this.CheckCollisionGrid(-1,0,this.m_Vehicle.m_VehicleData.m_NodeGridArray,90,!0,!1,0)):a<0?(this.m_MouseStartPosition=null,this.CheckCollisionGrid(0,1,this.m_Vehicle.m_VehicleData.m_NodeGridArray,0,!1,!0,1)):(this.m_MouseStartPosition=null,this.CheckCollisionGrid(0,-1,this.m_Vehicle.m_VehicleData.m_NodeGridArray,0,!0,!1,1)),this.m_Ui.HideTutorial();else{var n=0;this.m_VehicleNode.eulerAngles.y<=-89?n=r/this.m_DistanceSlide:n+=a/this.m_DistanceSlide,this.m_Vehicle.PrepareToMove(n)}}}},n.OnTouchUp=function(e){this.m_CurrentTouchID==e.getID()&&(this.m_CurrentTouchID=-1,this.m_Vehicle&&(this.m_Vehicle.released(),this.m_ButtonPress=!1,this.m_Vehicle=null))},n.CheckCollisionGrid=function(e,i,t,r,a,n,s){for(var o=0,h=new Array,m=[],l=0;l<t.length;l++){var _=t[l].x,c=t[l].z;if(e+_<this.m_MainGrid.m_Row&&i+c<this.m_MainGrid.m_Col&&e+_>=0&&i+c>=0)h.push(this.m_MainGrid.m_GridArray[_+e][c+i]);else{var u=0;h=Object.assign([],t);for(var d=0;d<this.m_Vehicle.m_VehicleData.m_NodeGridArray.length;d++)if(this.m_Vehicle.m_VehicleData.m_NodeGridArray[d].m_Barriere){if(this.m_Vehicle.m_VehicleData.m_NodeGridArray[d].m_Barriere){if(this.CheckRotatioBarriere(h,s)){this.m_Vehicle.m_Game=this,this.m_Vehicle.m_MoveForward=a,this.m_Vehicle.m_MoveBackward=n,this.m_Vehicle.SetVehiclePosition(this.CalculatePosition(this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].x,this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].z,this.m_Vehicle.m_VehicleData.m_MaxLength,this.m_Vehicle.m_VehicleData.m_MaxWidth,r),!1,m,this.CollisionBarriere(s,this.m_Vehicle.m_VehicleData.m_NodeGridArray),e,i);break}this.m_Vehicle.m_MoveForward=a,this.m_Vehicle.m_MoveBackward=n,this.m_Vehicle.SetVehiclePosition(this.CalculatePosition(this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].x,this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].z,this.m_Vehicle.m_VehicleData.m_MaxLength,this.m_Vehicle.m_VehicleData.m_MaxWidth,r),!0,m,this.CollisionBarriere(s,this.m_Vehicle.m_VehicleData.m_NodeGridArray),e,i);break}}else if(++u==t.length){this.m_Vehicle.m_Game=this,this.m_Vehicle.m_MoveForward=a,this.m_Vehicle.m_MoveBackward=n,this.m_Vehicle.SetVehiclePosition(this.CalculatePosition(this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].x,this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].z,this.m_Vehicle.m_VehicleData.m_MaxLength,this.m_Vehicle.m_VehicleData.m_MaxWidth,r),!1,null,this.CollisionBarriere(s,this.m_Vehicle.m_VehicleData.m_NodeGridArray),e,i);break}}}for(var f=0;f<h.length;f++)h[f].m_Occupied?this.m_Vehicle!=h[f].m_Vehicle&&(m.push(h[f].m_Vehicle),this.m_Vehicle.m_MoveForward=a,this.m_Vehicle.m_MoveBackward=n,this.m_Vehicle.SetVehiclePosition(this.CalculatePosition(this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].x,this.m_Vehicle.m_VehicleData.m_NodeGridArray[0].z,this.m_Vehicle.m_VehicleData.m_MaxLength,this.m_Vehicle.m_VehicleData.m_MaxWidth,r),!0,m,this.CollisionBarriere(s,h),e,i)):o++;if(o>=2){for(var P=0;P<this.m_Vehicle.m_VehicleData.m_NodeGridArray.length;P++)this.m_Vehicle.m_VehicleData.m_NodeGridArray[P].m_Occupied=!1,h[P].m_Vehicle=this.m_Vehicle;for(var v=0;v<h.length;v++)h[v].m_Occupied=!0,h[v].m_Vehicle=this.m_Vehicle;this.m_Vehicle.m_VehicleData.m_NodeGridArray=h,this.CheckCollisionGrid(e,i,this.m_Vehicle.m_VehicleData.m_NodeGridArray,r,a,n,s)}},n.CollisionBarriere=function(e,i){for(var t=[],r=0;r<i.length;r++)if(null!=i[r].m_Object){var a=i[r].m_Object.getComponent(L);i[r].m_Object.getComponent(H)?t.push(a):i[r].m_RotationBarriere!=e&&(t.push(a),t.push(a))}return t},n.CheckRotatioBarriere=function(e,i){for(var t=0,r=0,a=0;a<e.length;a++)if(e[a].m_Barriere){if(r++,e[a].m_RotationBarriere!=i)return!1;t++}return t/r==1},n.invert1DArray=function(e){for(var i=e,t=i.length,r=0;r<t/2;r++){var a=i[r];i[r]=i[t-r-1],i[t-r-1]=a}return i},n.rotateClockwise=function(e){for(var i=e.length,t=0;t<i/2;t++)for(var r=t;r<i-t-1;r++){var a=e[t][r];e[t][r]=e[i-r-1][t],e[i-r-1][t]=e[i-t-1][i-r-1],e[i-t-1][i-r-1]=e[r][i-t-1],e[r][i-t-1]=a}return e},n.rotate90Clockwise=function(e){for(var i=e.length,t=0;t<i/2;t++)for(var r=t;r<i-t-1;r++){var a=e[t][r];e[t][r]=e[i-1-r][t],e[i-1-r][t]=e[i-1-t][i-1-r],e[i-1-t][i-1-r]=e[r][i-1-t],e[r][i-1-t]=a}},n.LoadLevel=function(){var e;if(null!=this.m_allLevels)for(var i=0;i<this.m_allLevels.length;i++)if(this.m_allLevels[i].id==this.m_Index){e=this.m_allLevels[this.m_Index];break}null==e&&(e=K.getNewLevel(this.m_Index)),this.CreateGrid(e)},n.CreateGrid=function(e){var i;e.inteverted?i=e.Patern:(i=this.invert1DArray(e.Patern),e.inteverted=!0);var t=i.length,r=i[0].length;this.m_MainGrid=new D(t,r),this.m_Parking=new w(this.m_NodeRoadParent,this.m_MainGrid),this.m_Spline=new x(this.m_MainGrid,this.m_OffsetX,this.m_OffsetZ,this.m_Tiles[4],this.m_Parking,this.m_NodeRoadParent,this.m_Object,this.m_Enviro),this.m_vehicleCounter=0;for(var a=0;a<t;a++)for(var n=0;n<r;n++)switch(this.m_Parking.CreateParking(a,n,this.m_Tiles,this.m_MainGrid,this.m_NodeParkingParent,this.m_OffsetX,this.m_OffsetZ),this.m_Parking.CreateRoad(a,n,this.m_Tiles,this.m_MainGrid,this.m_OffsetX,this.m_OffsetZ),i[a][n]){case 1:this.InstantiateBarriere(a,n,this.m_Prefab[3]);break;case 2:this.InstantiateObstacle(a,n,this.m_Prefab[6]);break;case 3:this.InstantiateBarriereCorner(a,n,this.m_Prefab[7]);break;case 4:this.PositionVehicle(a,n,2,2,this.m_Prefab[0],180,4,4,e),this.m_vehicleCounter++;break;case 5:this.PositionVehicle(a,n,2,2,this.m_Prefab[0],270,5,4,e),this.m_vehicleCounter++;break;case 6:this.PositionVehicle(a,n,2,3,this.m_Prefab[1],180,6,6,e),this.m_vehicleCounter++;break;case 7:this.PositionVehicle(a,n,3,2,this.m_Prefab[1],270,7,6,e),this.m_vehicleCounter++;break;case 8:this.PositionVehicle(a,n,2,4,this.m_Prefab[2],180,8,8,e),this.m_vehicleCounter++;break;case 9:this.PositionVehicle(a,n,4,2,this.m_Prefab[2],270,9,8,e),this.m_vehicleCounter++;break;case 14:this.InstantiateBarriere(a,n,this.m_Prefab[3]),this.PositionVehicle(a,n,2,2,this.m_Prefab[0],180,4,4,e),this.m_vehicleCounter++;break;case 15:this.InstantiateBarriere(a,n,this.m_Prefab[3]),this.PositionVehicle(a,n,2,2,this.m_Prefab[0],270,5,4,e),this.m_vehicleCounter++;break;case 16:this.InstantiateBarriere(a,n,this.m_Prefab[3]),this.PositionVehicle(a,n,2,3,this.m_Prefab[1],180,6,6,e),this.m_vehicleCounter++;break;case 17:this.InstantiateBarriere(a,n,this.m_Prefab[3]),this.PositionVehicle(a,n,3,2,this.m_Prefab[1],270,7,6,e),this.m_vehicleCounter++;break;case 18:this.InstantiateBarriere(a,n,this.m_Prefab[3]),this.PositionVehicle(a,n,2,4,this.m_Prefab[2],180,8,8,e),this.m_vehicleCounter++;break;case 19:this.InstantiateBarriere(a,n,this.m_Prefab[3]),this.PositionVehicle(a,n,4,2,this.m_Prefab[2],270,9,8,e),this.m_vehicleCounter++;break;case 34:this.InstantiateBarriereCorner(a,n,this.m_Prefab[7]),this.PositionVehicle(a,n,2,2,this.m_Prefab[0],180,4,4,e),this.m_vehicleCounter++;break;case 35:this.InstantiateBarriereCorner(a,n,this.m_Prefab[7]),this.PositionVehicle(a,n,2,2,this.m_Prefab[0],270,5,4,e),this.m_vehicleCounter++;break;case 36:this.InstantiateBarriereCorner(a,n,this.m_Prefab[7]),this.PositionVehicle(a,n,2,3,this.m_Prefab[1],180,6,6,e),this.m_vehicleCounter++;break;case 37:this.InstantiateBarriereCorner(a,n,this.m_Prefab[7]),this.PositionVehicle(a,n,3,2,this.m_Prefab[1],270,7,6,e),this.m_vehicleCounter++;break;case 38:this.InstantiateBarriereCorner(a,n,this.m_Prefab[7]),this.PositionVehicle(a,n,2,4,this.m_Prefab[2],180,8,8,e),this.m_vehicleCounter++;break;case 39:this.InstantiateBarriereCorner(a,n,this.m_Prefab[7]),this.PositionVehicle(a,n,4,2,this.m_Prefab[2],270,9,8,e),this.m_vehicleCounter++}this.SetupCamera(t),this.SetupLight(),this.m_Parking.CreationEnvironnement(this.m_Enviro,this.m_NodeEnviroParent),this.SetEndParkingVehicle(),this.SetSkinAndTrailVehicle(),this.unschedule(this.StartTutorial),this.scheduleOnce(this.StartTutorial,.2)},n.SetupLight=function(){for(var e=this.m_MainLight.color.toString(),i=this.m_MainLight.colorTemperature,t=this.m_MainLight.illuminance,r=["FFFAF0","FF001F","2900FF","FF8500"],a=[6550,1827,15e3,15e3],n=[1.692708,.39,.79,3.09],s=[9,13,20,24],o=(Math.floor(this.m_Index%24/6%4),this.m_Index);o>24;)o-=24;for(var h=0;h<s.length;h++)if(!(o>s[h])){P("jooo : "+o+"| bound :"+h),e=r[h],i=a[h],t=n[h];break}this.m_MainLight.color=new y(e),this.m_MainLight.colorTemperature=i,this.m_MainLight.illuminance=t},n.SetSkinAndTrailVehicle=function(){""==W.getItem("usingTrail","")&&W.saveItem("usingTrail","0"),this.SetVehicleTrail(parseInt(W.getItem("usingTrail","0"))),""==W.getItem("usingSkin","")&&W.saveItem("usingSkin","0"),this.SetVehicleSkin(parseInt(W.getItem("usingSkin","0")))},n.StartTutorial=function(){if(0===this.m_Index){var e=C("Vehicle_5_1");this.m_Ui.PlayTutorial(e)}},n.SetupCamera=function(e){var i,t,r;if(G.windowSize.width<G.windowSize.height){this.m_Camera.fov=60,e!=this.m_IndexOffset?(i=.5-.1*e,t=10+1.5*e,r=-1-.5*e,this.m_OffsetCameraX=i,this.m_OffsetCameraY=t,this.m_OffsetCameraZ=r,this.m_IndexOffset=e):(i=this.m_OffsetCameraX,t=this.m_OffsetCameraY,r=this.m_OffsetCameraZ);var a=new M;M.fromEuler(a,-75,-170,0)}else{e!=this.m_IndexOffset?(i=-1-.1*e,t=10+1*e,r=-3-.5*e,this.m_OffsetCameraX=i,this.m_OffsetCameraY=t,this.m_OffsetCameraZ=r,this.m_IndexOffset=e):(i=this.m_OffsetCameraX,t=this.m_OffsetCameraY,r=this.m_OffsetCameraZ);a=new M;M.fromEuler(a,-65,-170,0)}this.m_Camera.node.setPosition(new p(i,t,r)),this.m_Camera.node.lookAt(new p(0,0,0)),this.m_Camera.node.setRotation(a)},n.PositionVehicle=function(e,i,t,r,a,n,s,o,h){var m=0;if(this.m_VehicleId=0,!this.m_MainGrid.m_GridArray[e][i].m_Occupied)for(var l=new Array,_=0;_<t;_++)for(var c=0;c<r;c++)if(e+_<this.m_MainGrid.m_Row&&i+c<this.m_MainGrid.m_Col&&(Math.abs(h.Patern[e+_][i+c])==s||Math.abs(h.Patern[e+_][i+c])==s+10||Math.abs(h.Patern[e+_][i+c])==s+30)&&(l[m]=this.m_MainGrid.m_GridArray[e+_][i+c],++m===o)){this.m_VehicleId++;var u=k(a);u.name="Vehicle_"+s+"_"+this.m_VehicleId;var d=u.getComponent(X),f=new z(l,o,t,r,d);this.m_MainGrid.m_NumberOfVehicle++,this.m_MainGrid.m_VehicleArray.push(u),this.m_Object.push(u),d.m_VehicleData=f,d.m_Spline=this.m_Spline,d.m_SoundManager=this.m_SoundManager,d.m_ShakeCamera=this.m_ShakeCamera,u.parent=S.getScene(),u.setPosition(this.CalculatePosition(e,i,t,r,n));var P=M.fromEuler(new M,0,n,0);u.setRotation(P)}},n.SetEndParkingVehicle=function(){for(var e=0;e<this.m_MainGrid.m_VehicleArray.length;e++)this.m_MainGrid.m_VehicleArray[e].getComponent(X).m_EndParking=this.m_Parking.m_Endpark},n.CalculatePosition=function(e,i,t,r,a){var n;if(90==a||-90==a||270==a){var s=(this.m_MainGrid.m_GridArray[e][i].m_PosX*this.m_OffsetX+this.m_MainGrid.m_GridArray[e+(t-1)][i].m_PosX*this.m_OffsetX)/2,o=(this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ+this.m_MainGrid.m_GridArray[e][i+(r-1)].m_PosZ*this.m_OffsetZ)/2;n=new p(s,0,o)}else{var h=(this.m_MainGrid.m_GridArray[e][i].m_PosX*this.m_OffsetX+this.m_MainGrid.m_GridArray[e+(t-1)][i].m_PosX*this.m_OffsetX)/2,m=(this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ+this.m_MainGrid.m_GridArray[e][i+(r-1)].m_PosZ*this.m_OffsetZ)/2;n=new p(h,0,m)}return n},n.InstantiateBarriere=function(e,i,t){this.m_MainGrid.m_GridArray[e][i].m_Barriere=!0;var r=k(t);if(r.setParent(this.m_NodeRoadParent),this.m_MainGrid.m_GridArray[e][i].m_Object=r,this.m_Object.push(r),0==i?r.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX*this.m_OffsetX,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ-.5):r.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX*this.m_OffsetX,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ+.5),i>0&&i<this.m_MainGrid.m_Col-1&&e>=0){0==e?r.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX*this.m_OffsetX-.5,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ):r.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX*this.m_OffsetX+.5,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ);var a=M.fromEuler(new M,0,90,0);r.setRotation(a),this.m_MainGrid.m_GridArray[e][i].m_RotationBarriere=1}},n.InstantiateBarriereCorner=function(e,i,t){this.m_MainGrid.m_GridArray[e][i].m_Barriere=!0;var r=k(t);if(r.setParent(this.m_NodeRoadParent),this.m_MainGrid.m_GridArray[e][i].m_Object=r,this.m_Object.push(r),0==i&&e>=this.m_MainGrid.m_Row-1)r.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX+.571*this.m_OffsetX,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ-.61);else if(0==i&&0==e){r.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX-.61,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ-.545);var a=M.fromEuler(new M,0,90,0);r.setRotation(a)}else if(i>=this.m_MainGrid.m_Col-1&&0==e){r.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX-.544,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ+.636);var n=M.fromEuler(new M,0,180,0);r.setRotation(n)}else if(i>=this.m_MainGrid.m_Col-1&&e>=this.m_MainGrid.m_Row-1){r.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX+.631,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ+.57);var s=M.fromEuler(new M,0,-90,0);r.setRotation(s)}this.m_MainGrid.m_GridArray[e][i].m_RotationBarriere=2},n.InstantiateObstacle=function(e,i,t){this.m_MainGrid.m_GridArray[e][i].m_Occupied=!0;var r=k(t);this.m_MainGrid.m_GridArray[e][i].m_Object=r,r.setParent(this.m_NodeEnviroParent),r.setPosition(this.m_MainGrid.m_GridArray[e][i].m_PosX*this.m_OffsetX,0,this.m_MainGrid.m_GridArray[e][i].m_PosZ*this.m_OffsetZ),this.m_Object.push(r)},n.InstantiateDebugGrid=function(e,i,t,r){var a=k(e);a.parent=S.getScene(),a.setPosition(this.m_MainGrid.m_GridArray[i][t].m_PosX*this.m_OffsetX,0,this.m_MainGrid.m_GridArray[i][t].m_PosZ*this.m_OffsetZ);var n=M.fromEuler(new M,0,r,0);a.setRotation(n),this.m_Object.push(a)},n.EndLevel=function(){var e=this;this.m_VehicleExit++,this.m_VehicleExit==this.m_MainGrid.m_NumberOfVehicle&&(this.m_VehicleExit=0,this.m_VictoryParticles.getComponent(Z).play(),this.m_PokiManager.sendEvent(j.POKIEVENTTYPE.gameplayStop),this.m_uiManager.showEndLevelPopup(this.m_vehicleCounter,(function(){e.GoToNextLevel()})))},n.showShopPopup=function(){this.m_uiManager.showShopPopup()},n.GoToNextLevel=function(){var e=this,i=O(this.m_BackGround.getComponent(A)).to(.5,{opacity:255}),t=O().call((function(){e.NextLevel()})).delay(.8),r=O(this.m_BackGround.getComponent(A)).to(.5,{opacity:0});O(this.m_BackGround.getComponent(A)).sequence(i,t,r).start()},n.DestroyAllObjectInScene=function(){for(var e=0;e<this.m_Parking.m_Objects.length;e++)this.m_Parking.m_Objects[e].destroy();for(var i=0;i<this.m_Object.length;i++)this.m_Object[i].destroy();this.m_Object.length=0},n.NextLevel=function(){this.m_Index++,this.DestroyAllObjectInScene(),this.LoadLevel(),this.UpdateLevelLabel(this.m_Index),this.Save(),this.m_PokiManager.pokiEventStart()},n.onClickRetry=function(e,i){this.retryLevel()},n.retryLevel=function(){this.DestroyAllObjectInScene(),this.LoadLevel(),this.UpdateLevelLabel(this.m_Index),this.Save(),this.m_PokiManager.pokiEventStart()},n.addCoins=function(e){this.m_CoinGlobal+=e,this.UpdateCoinLabel(this.m_CoinGlobal.toString()),W.saveItem("gold",this.m_CoinGlobal.toString())},n.removeCoins=function(e){this.addCoins(-e)},n.UpdateCoinLabel=function(e){this.m_Ui.UpdateCoinUi(e)},n.UpdateLevelLabel=function(e){this.m_Ui.UpdateLevelLabel(e)},n.Save=function(){W.saveItem("gold",this.m_CoinGlobal.toString()),W.saveItem("Level",this.m_Index.toString())},n.LoadSave=function(){var e=W.getItem("gold","0");this.m_CoinGlobal=parseInt(e),this.UpdateCoinLabel(e);var i=W.getItem("Level","0");F.TEST_MODE||(this.m_Index=parseInt(i))},n.ClearStorage=function(){I.localStorage.clear(),I.localStorage.setItem("gold","0"),I.localStorage.setItem("Level","0"),I.localStorage.setItem("usingTrail","0"),I.localStorage.setItem("usingSkin","0")},n.SetVehicleTrail=function(e){var i=this.m_allTrails[e];null==i&&(i=this.m_allTrails[0]),this.ChangeTrail(i)},n.ChangeTrail=function(e){for(var i=0;i<this.m_TrailArray.length;i++)if(this.m_TrailArray[i].name==e.name){this.m_Trail=this.m_TrailArray[i];break}this.ChangeVehicleTrails()},n.ChangeVehicleTrails=function(){var e=this;this.m_MainGrid.m_VehicleArray.forEach((function(i){var t=i.getComponent(X),r=i.getChildByName("FeedBack");t.ChangeSkinTrailVehicule(e.m_Trail,r)}))},n.SetVehicleSkin=function(e){var i=this.m_allSkins[e];null==i&&(i=this.m_allSkins[0]),this.ChangeSkin(i)},n.ChangeSkin=function(e){var i=this;this.m_VehiclePack.forEach((function(t){t.m_NamePack==e.name&&(i.m_PackVehicleSelect=t.m_VehiclePack)})),this.ChangeVehicleSkins()},n.ChangeVehicleSkins=function(){var e=this;this.m_MainGrid.m_VehicleArray.forEach((function(i){var t=i.getComponent(X),r=i.getChildByName("Body");switch(t.m_SizeVehicle){case 0:t.ChangeSkinVehicle(e.m_PackVehicleSelect[0],r);break;case 1:t.ChangeSkinVehicle(e.m_PackVehicleSelect[1],r);break;case 2:t.ChangeSkinVehicle(e.m_PackVehicleSelect[2],r)}}))},i}(T)).prototype,"m_uiManager",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=i(ye.prototype,"m_SoundManager",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=i(ye.prototype,"m_PokiManager",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=i(ye.prototype,"m_ShakeCamera",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=i(ye.prototype,"m_MainLight",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=i(ye.prototype,"m_DistanceSlide",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Ae=i(ye.prototype,"m_Index",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ie=i(ye.prototype,"m_LevelToTest",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Te=i(ye.prototype,"m_Camera",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=i(ye.prototype,"m_Prefab",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),we=i(ye.prototype,"m_Tiles",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),De=i(ye.prototype,"m_Enviro",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ee=i(ye.prototype,"m_Ui",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=i(ye.prototype,"m_BackGround",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=i(ye.prototype,"m_OffsetX",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),xe=i(ye.prototype,"m_OffsetZ",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3.5}}),Re=i(ye.prototype,"m_VictoryParticles",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=i(ye.prototype,"m_NodeRoadParent",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=i(ye.prototype,"m_NodeParkingParent",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=i(ye.prototype,"m_NodeEnviroParent",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=i(ye.prototype,"m_TrailArray",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ue=i(ye.prototype,"m_VehiclePack",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pe=ye))||pe));n._RF.pop()}}}));

System.register("chunks:///_virtual/Grid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeObject.ts","./Vehicle.ts"],(function(r){"use strict";var e,i,t,n,o,c,a;return{setters:[function(r){e=r.applyDecoratedDescriptor,i=r.initializerDefineProperty},function(r){t=r.cclegacy,n=r._decorator,o=r.CCInteger},function(r){c=r.NodeObject},function(r){a=r.Vehicle}],execute:function(){var u,l,s,p,f,h,y,m,_;t._RF.push({},"650ef0IVPVH36TPtkmauz2i","Grid",void 0);var d=n.ccclass,b=n.property;r("Grid",(u=d("Grid"),l=b({type:a}),s=b({type:o}),p=b({type:o}),u((y=e((h=function(){function r(r,e){this.m_GridArray=new Array,i(this,"m_VehicleArray",y,this),i(this,"m_Row",m,this),i(this,"m_Col",_,this),this.m_NumberOfVehicle=0,this.SetGrid(r,e),this.m_Row=r,this.m_Col=e}return r.prototype.SetGrid=function(r,e){for(var i=0;i<r;i++){this.m_GridArray[i]=[];for(var t=0;t<e;t++)if(i>=0&&t>=0){var n=new c(i,t,-(r-1)/2+i,-(e-1)/2+t);this.m_GridArray[i][t]=n}}},r}()).prototype,"m_VehicleArray",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Array}}),m=e(h.prototype,"m_Row",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=e(h.prototype,"m_Col",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=h))||f));t._RF.pop()}}}));

System.register("chunks:///_virtual/InterfaceUser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Anim.ts"],(function(e){"use strict";var t,n,i,r,a,o,l,u,c,s,m,p,_,f,g,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.UITransform,u=e.Camera,c=e.Label,s=e.Sprite,m=e.Node,p=e.tween,_=e.Vec3,f=e.Animation,g=e.Component},function(e){h=e.Anim}],execute:function(){var b,v,d,C,y,T,w,F,L,x,z,I,U,k,A,B,P;a._RF.push({},"873567XdhlL370k1npjpQbw","InterfaceUser",void 0);var R=o.ccclass,D=o.property;e("InterfaceUser",(b=R("InterfaceUser"),v=D(l),d=D(u),C=D(c),y=D(c),T=D(s),w=D(m),F=D(m),b((z=t((x=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"m_Canvas",z,r(t)),i(t,"m_Camera",I,r(t)),i(t,"m_CoinText",U,r(t)),i(t,"m_LevelText",k,r(t)),i(t,"m_Background",A,r(t)),i(t,"m_Finger",B,r(t)),i(t,"m_Target",P,r(t)),t}n(t,e);var a=t.prototype;return a.start=function(){var e=this.m_Background.getComponent(l);e.width=this.m_Canvas.width,e.height=this.m_Canvas.height,this.m_Finger.active=!1,this.m_Camera},a.update=function(e){},a.UpdateCoinUi=function(e){this.m_CoinText.string=e,p(this.m_CoinText.node).stop(),p(this.m_CoinText.node).to(.2,{scale:new _(1.2,1.2,1.2)},{easing:"bounceOut"}).to(.2,{scale:new _(1,1,1)}).union().repeat(1).start()},a.UpdateLevelLabel=function(e){this.m_LevelText.string="Level : "+(e+1)},a.PlayTutorial=function(e){this.m_Finger.active=!0;var t=this.m_Camera.convertToUINode(e.worldPosition,this.m_Canvas.node);this.m_Finger.position=t,this.m_Finger.getComponent(f).play(h.FINGER_RIGHT)},a.HideTutorial=function(){this.m_Finger.active=!1},t}(g)).prototype,"m_Canvas",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(x.prototype,"m_Camera",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(x.prototype,"m_CoinText",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(x.prototype,"m_LevelText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(x.prototype,"m_Background",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(x.prototype,"m_Finger",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(x.prototype,"m_Target",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=x))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/IntroAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,o,s,a,r,c,l,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.CCFloat,c=t.Vec3,l=t.log,p=t.tween,u=t.Component}],execute:function(){var h,d,f,y,m;s._RF.push({},"8742bg8DlpG4KQw73bO/SR0","IntroAnimation",void 0);var v=a.ccclass,g=a.property;t("IntroAnimation",(h=v("IntroAnimation"),d=g(r),h((m=e((y=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"delay",m,o(e)),e.position=new c(0,0,0),e.scale=new c(0,0,0),e}n(e,t);var s=e.prototype;return s.onLoad=function(){l("onLoad",this.name,this.node.position,this.node.scale),this.scale=this.node.scale.clone(),this.position=this.node.position.clone(),this.node.scale=new c(this.scale.x,0,this.scale.z)},s.start=function(){this.node.active=!0,l("start",this.name,this.node.position,this.node.scale,this.scale),p(this.node).delay(this.delay).to(.6,{scale:this.scale},{easing:"backOut",onStart:function(t){t.active=!0},onUpdate:function(t){},onComplete:function(t){l("onComplete",t.name,t.position,t.scale)}}).start()},e}(u)).prototype,"delay",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=y))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/Knot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Vehicle.ts"],(function(e){"use strict";var t,i,n,r,o,c,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,l=e.Component},function(e){s=e.Vehicle}],execute:function(){var a,u,p,m,h;o._RF.push({},"4961cty0WlLpK7RWJOJWEnT","Knot",void 0);var _=c.ccclass,y=c.property;e("Knot",(a=_("Knot"),u=y(s),a((h=t((m=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))||this).m_notSpline=null,t.m_Timer=0,t.m_MaxTimer=.55,n(t,"m_Vehicles",h,r(t)),t}return i(t,e),t.prototype.update=function(e){this.m_notSpline.m_VehicleOnMyRoad&&(this.m_Timer+=1*e,this.m_Timer>=this.m_MaxTimer&&(this.m_notSpline.m_VehicleOnMyRoad=!1,this.m_Timer=0))},t}(l)).prototype,"m_Vehicles",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Array}}),p=m))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/KnotSpline.ts",["cc","./Knot.ts"],(function(t){"use strict";var o,n,i,s,e,m;return{setters:[function(t){o=t.cclegacy,n=t._decorator,i=t.Vec3,s=t.instantiate,e=t.Node},function(t){m=t.Knot}],execute:function(){var r;o._RF.push({},"2f590kUU5ZCTJmL3hKB02bX","KnotSpline",void 0);var _=n.ccclass;n.property,t("KnotSpline",_("KnotSpline")(r=function(){function t(t,o,n,i,s,e,m,r,_,h){this.m_Grid=null,this.m_Vec=null,this.m_Rotation=null,this.m_Knot=null,this.m_VehicleOnMyRoad=!1,this.m_KnotComponent=null,this.m_CoordX=0,this.m_CoordZ=0,this.m_PosX=0,this.m_PosZ=0,this.m_CoordX=o,this.m_CoordZ=n,this.m_Grid=t,this.m_Rotation=r,this.SetPositionKnot(o,n,i,s,e,m),this.CreateKnotComponent(_,h)}var o=t.prototype;return o.SetPositionKnot=function(t,o,n,s,e,m){this.m_PosX=this.m_Grid.m_GridArray[t][o].m_PosX*n+e,this.m_PosZ=this.m_Grid.m_GridArray[t][o].m_PosZ*s+m,this.m_Vec=new i(this.m_PosX,0,this.m_PosZ)},o.CreateKnotComponent=function(t,o){var n=s(new e("Knot"));n.setParent(t),n.addComponent("Knot"),this.m_Knot=n.getComponent(m),this.m_Knot.m_notSpline=this,n.setPosition(this.m_PosX,0,this.m_PosZ),this.m_KnotComponent=n,o.push(n)},t}())||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/Level.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ce403Uehm5DIZ3F+XCrhKPe","Level",void 0);e("Level",(function(){this.Row=void 0,this.Col=void 0,this.OffsetCamera=void 0,this.OffsetRota=void 0,this.Patern=void 0,this.inteverted=!1}));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./DemoScript.ts","./PokiPlatform.ts","./ActiveExitVehicleFeedBack.ts","./ActiveOnOrientation.ts","./Anim.ts","./Barriere.ts","./Constants.ts","./CreationParking.ts","./Game.ts","./Grid.ts","./InterfaceUser.ts","./IntroAnimation.ts","./Knot.ts","./Level.ts","./MovingCamera.ts","./MuteButton.ts","./NodeObject.ts","./ObjectOnParking.ts","./Obstacle.ts","./OrientationWidget.ts","./PlayerInfo.ts","./PokiManager.ts","./BasePopup.ts","./EndLevelPopup.ts","./OkPopup.ts","./ShopPopup.ts","./ShopSkinIconPrefab.ts","./ShopTrailIconPrefab.ts","./YesNoPopup.ts","./ProceduralLevel.ts","./ShakeScreen.ts","./Singleton.ts","./Smiley.ts","./Sound.ts","./SoundManager.ts","./KnotSpline.ts","./Spline.ts","./UIManager.ts","./Vehicle.ts","./VehicleData.ts","./VehiclePack.ts","./Vibrations.ts","./VictoryParticles.ts","./CanvasTest.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MovingCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,o,a,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,o=e.Vec3,a=e.NodeSpace,c=e.Component}],execute:function(){var i;n._RF.push({},"1e8ef0gtZNN37adOl7rFDlf","MovingCamera",void 0);var s=r.ccclass;r.property,e("MovingCamera",s("MovingCamera")(i=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.start=function(){},r.update=function(e){this.node.translate(new o(-4*e,0,0),a.WORLD)},n}(c))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/MuteButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./SoundManager.ts"],(function(t){"use strict";var e,n,i,u,o,c,r,s,a,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,u=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,r=t.Node,s=t.Component},function(t){a=t.default},function(t){l=t.SoundManager}],execute:function(){var d,m,h,f,p,v,I;o._RF.push({},"94f58u3f2ZAubiVgO1R/OIn","MuteButton",void 0);var M=c.ccclass,g=c.property;t("MuteButton",(d=M("MuteButton"),m=g(r),h=g(r),d((v=e((p=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,i(e,"mutedIcon",v,u(e)),i(e,"unmutedIcon",I,u(e)),e.isMuted=!1,e}n(e,t);var o=e.prototype;return o.start=function(){a.getInstance().mute?(this.isMuted=!0,this.mutedIcon.active=!0,this.unmutedIcon.active=!1,this.mute()):(this.isMuted=!1,this.mutedIcon.active=!1,this.unmutedIcon.active=!0)},o.onClick=function(t,e){this.isMuted?(this.unmute(),this.isMuted=!1,this.mutedIcon.active=!1,this.unmutedIcon.active=!0):(this.mute(),this.isMuted=!0,this.mutedIcon.active=!0,this.unmutedIcon.active=!1)},o.mute=function(){l.instance.mute()},o.unmute=function(){l.instance.unmute()},e}(s)).prototype,"mutedIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(p.prototype,"unmutedIcon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/NodeObject.ts",["cc"],(function(t){"use strict";var e,i,s;return{setters:[function(t){e=t.cclegacy,i=t._decorator,s=t.Enum}],execute:function(){var c;e._RF.push({},"66928jcUxlFW6T25XUtLtQL","NodeObject",void 0);var o=i.ccclass,r=(i.property,t("NodeObject",o("NodeObject")(c=function(t,e,i,s){this.x=1,this.z=1,this.m_PosX=0,this.m_PosZ=0,this.m_Occupied=!1,this.m_Barriere=!1,this.m_Object=null,this.m_RotationBarriere=r.Horizontal,this.x=t,this.z=e,this.m_PosX=i,this.m_PosZ=s})||c),s({Horizontal:0,Vertical:1,Both:2,none:3}));e._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectOnParking.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,i,t,r,o,c,a,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Animation,l=e.Component}],execute:function(){var s,u,p,f,m;o._RF.push({},"45b94S+rcdL4LoyKEDh4waA","ObjectOnParking",void 0);var y=c.ccclass,b=c.property;e("ObjectOnParking",(s=y("ObjectOnParking"),u=b(a),s((m=n((f=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=e.call.apply(e,[this].concat(o))||this,t(n,"m_Anim",m,r(n)),n.AnimName=null,n}return i(n,e),n.prototype.CollisionVehicle=function(){},n}(l)).prototype,"m_Anim",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Obstacle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectOnParking.ts","./Anim.ts"],(function(t){"use strict";var n,e,i,c,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){c=t.ObjectOnParking},function(t){r=t.Anim}],execute:function(){var s;e._RF.push({},"bb5b0qXpthBc4tJExIBuvXc","Obstacle",void 0);var o=i.ccclass;i.property,t("Obstacle",o("Obstacle")(s=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),c=0;c<e;c++)i[c]=arguments[c];return(n=t.call.apply(t,[this].concat(i))||this).AnimName=null,n}return n(e,t),e.prototype.CollisionVehicle=function(){null!=this.m_Anim&&(this.AnimName=r.PYLONE_HIT),this.m_Anim.play(this.AnimName)},e}(c))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/OkPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePopup.ts"],(function(e){"use strict";var t,o,p,i,n,r,l,a,u,s,c,P,k,h,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,p=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,l=e.Label,a=e.RichText,u=e.Button,s=e.instantiate,c=e.director,P=e.log,k=e.UITransform,h=e.resources},function(e){g=e.BasePopup}],execute:function(){var m,y,b,f,d,T,O,_,v,B,C,x;n._RF.push({},"98705n5Qe9KwKy4bqxRLWuB","OkPopup",void 0);var z=r.ccclass,w=r.property;e("OkPopup",(m=z("OkPopup"),y=w({type:l}),b=w({type:a}),f=w({type:u}),d=w({type:l}),m(((x=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,p(t,"m_TitleText",_,i(t)),p(t,"m_MessageText",v,i(t)),p(t,"m_OkButton",B,i(t)),p(t,"m_OkText",C,i(t)),t}o(t,e),t.create=function(e,o,p,i){t.okPopupTitle=e,t.okPopupMessage=o,t.okPopupOk=p,t.okPopupCloseCallback=i,h.load("Popups/OkPopup",t.onPrefabLoaded)};var n=t.prototype;return n.initOkPopup=function(t,o,p,i){this.m_TitleText.string=t,this.m_MessageText.string="<color=#4B4B4B>"+o+"</color>",this.m_OkText.string=p,this.m_OkButton.node.on(u.EventType.CLICK,this.closePopup,this),e.prototype.initPopup.call(this,void 0,i),e.prototype.showPopup.call(this)},n.showPopup=function(){e.prototype.showPopup.call(this)},n.closePopup=function(){this.m_OkButton.interactable=!1,e.prototype.closePopup.call(this)},t}(g)).okPopupTitle=void 0,x.okPopupMessage=void 0,x.okPopupOk=void 0,x.okPopupCloseCallback=void 0,x.onPrefabLoaded=function(e,t){var o=s(t);o.setParent(c.getScene().getChildByPath("UIGame/PopupContainer")),P("contentSize",o.getComponent(k).contentSize),P("contentSize",c.getScene().getChildByPath("UIGame").getComponent(k).contentSize),o.getComponent(x).initOkPopup(x.okPopupTitle,x.okPopupMessage,x.okPopupOk,x.okPopupCloseCallback)},_=t((O=x).prototype,"m_TitleText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(O.prototype,"m_MessageText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(O.prototype,"m_OkButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(O.prototype,"m_OkText",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=O))||T));n._RF.pop()}}}));

System.register("chunks:///_virtual/OrientationWidget.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,r,o,a,c,s,d,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Widget,s=t.log,d=t.screen,l=t.Component}],execute:function(){var u,p,g,h,w,f,b;o._RF.push({},"b8dd5JSXNlDVL6QzdB6hJ2/","OrientationWidget",void 0);var y=a.ccclass,z=a.property;t("OrientationWidget",(u=y("OrientationWidget"),p=z({type:c}),g=z({type:c}),u((f=e((w=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"widgetLanscape",f,r(e)),n(e,"widgetPortrait",b,r(e)),e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.onOrientationChange()},o.start=function(){},o.onOrientationChange=function(){s("onOrientationChange",this.name,this.node,d),this.widgetLanscape.enabled=!1,this.widgetPortrait.enabled=!1,d.windowSize.width>=d.windowSize.height&&(this.widgetLanscape.enabled=!0),d.windowSize.width<d.windowSize.height&&(this.widgetPortrait.enabled=!0)},e}(l)).prototype,"widgetLanscape",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(w.prototype,"widgetPortrait",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=w))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerInfo.ts",["cc"],(function(t){"use strict";var r,e,c;return{setters:[function(t){r=t.cclegacy,e=t._decorator,c=t.log}],execute:function(){var n;r._RF.push({},"133fctgIeJMdphYQt/CqK4a","PlayerInfo",void 0);var o=e.ccclass;e.property,t("PlayerInfo",o("PlayerInfo")(n=function(){function t(){}return t.saveItem=function(t,r){try{localStorage.setItem(t,r)}catch(t){c(t,"error")}},t.getItem=function(t,r){void 0===r&&(r="");try{var e=localStorage.getItem(t);return"NaN"==e||null==e?r:e}catch(t){c(t,"error")}return r},t}())||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/PokiManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PokiPlatform.ts","./OkPopup.ts"],(function(a){"use strict";var e,r,n,t,o,i,s;return{setters:[function(a){e=a.inheritsLoose},function(a){r=a.cclegacy,n=a._decorator,t=a.game,o=a.Component},function(a){i=a.CCPokiSDK},function(a){s=a.OkPopup}],execute:function(){var c,l;r._RF.push({},"b7dcesBkmZLU4P3ggQ8yFM8","PokiManager",void 0);var u,k=n.ccclass;n.property;!function(a){a[a.gameplayStart=0]="gameplayStart",a[a.gameplayStop=1]="gameplayStop",a[a.commercialBreak=2]="commercialBreak",a[a.rewardedBreak=3]="rewardedBreak"}(u||(u={}));a("PokiManager",k("PokiManager")(((l=function(a){function r(){for(var e,r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return(e=a.call.apply(a,[this].concat(n))||this).rewardCallback=void 0,e.adsIsRunning=!1,e}e(r,a);var n=r.prototype;return n.start=function(){t.on(i.EVENT_REWARD_BREAK_DONE,this.onRewardBreakDone,this),t.on(i.EVENT_COMMERCIAL_BREAK_DONE,this.onCommercialBreakDone,this)},n.sendEvent=function(a,e){if(null!=window.PokiSDK)switch(a){case u.gameplayStart:i.gameplayStart();break;case u.gameplayStop:i.gameplayStop();break;case u.commercialBreak:this.adsIsRunning=!0,i.commercialBreak();break;case u.rewardedBreak:this.adsIsRunning=!0,this.rewardCallback=e,i.rewardBreak()}},n.onRewardBreakDone=function(){var a=arguments[0];a?null!=this.rewardCallback&&this.rewardCallback():s.create("Ads","Turn your adblocks off to get the reward","OK",void 0)},n.onCommercialBreakDone=function(){this.adsIsRunning=!1,this.sendEvent(u.gameplayStart)},n.pokiEventStart=function(){var a=this;this.sendEvent(u.commercialBreak,(function(){a.adsIsRunning=!1,a.sendEvent(u.gameplayStart)}))},r}(o)).POKIEVENTTYPE=u,c=l))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/PokiPlatform.ts",["cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy,n=t.game}],execute:function(){e._RF.push({},"5a510DDQhJLeKan+foOx3ch","PokiPlatform",void 0);var r=window.PokiSDK,a=t("CCPokiSDK",function(){function t(){}return t.rewardBreak=function(){try{var e=n;r.rewardedBreak().then((function(n){e.emit(t.EVENT_REWARD_BREAK_DONE,n)}))}catch(t){console.log(t)}},t.commercialBreak=function(){var e=n;r.commercialBreak().then((function(){e.emit(t.EVENT_COMMERCIAL_BREAK_DONE)}))},t.gameplayStop=function(){r.gameplayStop()},t.gameplayStart=function(){r.gameplayStart()},t.shareableURL=function(e){var a=n;r.shareableURL(e).then((function(e){console.log(e),a.emit(t.EVENT_SHRABLE_URL_READY,e)}))},t.isAdBlocked=function(){return r.isAdBlocked()},t.getURLParam=function(t){return r.getURLParam(t)},t}());a.EVENT_REWARD_BREAK_DONE="prbr",a.EVENT_COMMERCIAL_BREAK_DONE="pcvr",a.EVENT_SHRABLE_URL_READY="psur",e._RF.pop()}}}));

System.register("chunks:///_virtual/ProceduralLevel.ts",["cc","./Level.ts"],(function(e){"use strict";var i,n,t,h;return{setters:[function(e){i=e.cclegacy,n=e.pseudoRandomRangeInt,t=e.Vec2},function(e){h=e.Level}],execute:function(){var r;i._RF.push({},"864eayPcQBDfLWrrlK9FqjM","ProceduralLevel",void 0),function(e){e[e.FourthCells=4]="FourthCells",e[e.FourthCells90=5]="FourthCells90",e[e.SixCells=6]="SixCells",e[e.SixCells90=7]="SixCells90",e[e.EightCells=8]="EightCells",e[e.EightCells90=9]="EightCells90"}(r||(r={}));var l=e("default",function(){function e(){}return e.getNewLevel=function(e){this.createSeed(e);var i=new h,n=4;switch(n=e<20?0:e<30?1:e<40?2:e<50?3:e<60?4:e<70?5:e<80?6:e<90?7:e<100?8:e<110?9:e<120?10:e<130||e<140?11:e<150?12:13,this.getRandomInt(n)){case 0:i.Row=8,i.Col=8;break;case 1:i.Row=9,i.Col=9;break;case 2:i.Row=10,i.Col=10;break;case 3:i.Row=11,i.Col=11;break;case 4:i.Row=12,i.Col=12;break;case 5:i.Row=13,i.Col=13;break;case 6:i.Row=14,i.Col=14;break;case 7:i.Row=15,i.Col=15;break;case 8:i.Row=16,i.Col=16;break;case 9:i.Row=17,i.Col=17;break;case 10:i.Row=18,i.Col=18;break;case 11:i.Row=19,i.Col=19;break;case 11:i.Row=20,i.Col=20;break;default:i.Row=22,i.Col=22}return(e+1)%10==0&&(i.Row+=5,i.Row=i.Row>24?24:i.Row,i.Col+=5,i.Col=i.Col>24?24:i.Col),i.Patern=this.createLevelPattern(i.Row,i.Col),i},e.createSeed=function(e){this.ACTUALSEED=e*(15234+e)-(e+3345)},e.nextSeed=function(){this.ACTUALSEED=this.ACTUALSEED/5+this.ACTUALSEED+11457},e.getRandomInt=function(e,i){void 0===i&&(i=0);var t=n(this.ACTUALSEED,i,e);return this.nextSeed(),t},e.createLevelPattern=function(e,i){for(var n=e*i,t=Math.round(.3*n),h=Math.round(.04*n),r=.6*n,l=Math.round(.08*n),s=Math.round(.05*n),d=this.getRandomInt(t),a=this.getRandomInt(h),o=r,u=this.getRandomInt(l),c=this.getRandomInt(s),C=[],E=0;E<e;E++){C[E]=[];for(var L=0;L<i;L++)C[E][L]=0}for(E=0;E<d;E++){C[(w=this.pickRandomOutlineCellPosition(C)).x][w.y]=this.BARRIERE}for(E=0;E<a;E++){var w;C[(w=this.pickTotalRandomCellPosition(C)).x][w.y]=this.OBSTACLES}C=this.modifyBarriereDesign(C);var V=!1,f=0;do{f++;for(E=0;E<c;E++){this.add8CellsVehicle90(C),this.add8CellsVehicle(C)&&(V=!0)}for(E=0;E<u;E++){this.add6CellsVehicle90(C),this.add6CellsVehicle(C)&&(V=!0)}for(E=0;E<o;E++){this.add4CellsVehicle(C),this.add4CellsVehicle90(C)&&(V=!0)}if(f>10)break}while(!V);return C},e.modifyBarriereDesign=function(e){return 1==e[0][0]&&1==e[0][1]&&1==e[1][0]&&(e[0][0]=3),1==e[e.length-1][0]&&1==e[e.length-2][0]&&1==e[e.length-1][1]&&(e[e.length-1][0]=3),1==e[0][e.length-1]&&1==e[0][e.length-2]&&1==e[1][e.length-1]&&(e[0][e.length-1]=3),1==e[e.length-1][e.length-1]&&1==e[e.length-2][e.length-1]&&1==e[e.length-1][e.length-2]&&(e[e.length-1][e.length-1]=3),e},e.add4CellsVehicle=function(e){var i=new t(-1,-1),n=0;do{var h=0;do{if(i=this.pickTotalRandomCellPosition(e),++h>10){i=new t(-1,-1);break}}while(!this.canPutVehicleHere(i,e));if(++n>10){i=new t(-1,-1);break}}while(!this.canOutsideVehicleRow(i,e));return(-1!=i.x||-1!=i.y)&&(this.addVehiculeOnGrid(e,new t(i.x,i.y),this.VEHICLE4CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y),this.VEHICLE4CELLS),this.addVehiculeOnGrid(e,new t(i.x,i.y+1),this.VEHICLE4CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+1),this.VEHICLE4CELLS),!0)},e.add4CellsVehicle90=function(e){var i=new t(-1,-1),n=0;do{var h=0;do{if(i=this.pickTotalRandomCellPosition(e),++h>10){i=new t(-1,-1);break}}while(!this.canPutVehicleHere(i,e));if(++n>10){i=new t(-1,-1);break}}while(!this.canOutsideVehicleColumn(i,e));return(-1!=i.x||-1!=i.y)&&(this.addVehiculeOnGrid(e,new t(i.x,i.y),this.VEHICLE4CELLS90),this.addVehiculeOnGrid(e,new t(i.x+1,i.y),this.VEHICLE4CELLS90),this.addVehiculeOnGrid(e,new t(i.x,i.y+1),this.VEHICLE4CELLS90),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+1),this.VEHICLE4CELLS90),!0)},e.add6CellsVehicle=function(e){var i=new t(-1,-1),n=0;do{var h=0;do{if(i=this.pickTotalRandomCellPosition(e),++h>10){i=new t(-1,-1);break}}while(!this.canPutVehicleHere(i,e,r.SixCells));if(++n>10){i=new t(-1,-1);break}}while(!this.canOutsideVehicleRow(i,e));return(-1!=i.x||-1!=i.y)&&(this.addVehiculeOnGrid(e,new t(i.x,i.y),this.VEHICLE6CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y),this.VEHICLE6CELLS),this.addVehiculeOnGrid(e,new t(i.x,i.y+1),this.VEHICLE6CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+1),this.VEHICLE6CELLS),this.addVehiculeOnGrid(e,new t(i.x,i.y+2),this.VEHICLE6CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+2),this.VEHICLE6CELLS),!0)},e.add6CellsVehicle90=function(e){var i=new t(-1,-1),n=0;do{var h=0;do{if(i=this.pickTotalRandomCellPosition(e),++h>10){i=new t(-1,-1);break}}while(!this.canPutVehicleHere(i,e,r.SixCells90));if(++n>10){i=new t(-1,-1);break}}while(!this.canOutsideVehicleColumn(i,e));return(-1!=i.x||-1!=i.y)&&(this.addVehiculeOnGrid(e,new t(i.x,i.y),this.VEHICLE6CELLS90),this.addVehiculeOnGrid(e,new t(i.x,i.y+1),this.VEHICLE6CELLS90),this.addVehiculeOnGrid(e,new t(i.x+1,i.y),this.VEHICLE6CELLS90),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+1),this.VEHICLE6CELLS90),this.addVehiculeOnGrid(e,new t(i.x+2,i.y),this.VEHICLE6CELLS90),this.addVehiculeOnGrid(e,new t(i.x+2,i.y+1),this.VEHICLE6CELLS90),!0)},e.add8CellsVehicle=function(e){var i=new t(-1,-1),n=0;do{var h=0;do{if(i=this.pickTotalRandomCellPosition(e),++h>10){i=new t(-1,-1);break}}while(!this.canPutVehicleHere(i,e,r.EightCells));if(++n>10){i=new t(-1,-1);break}}while(!this.canOutsideVehicleRow(i,e));return(-1!=i.x||-1!=i.y)&&(this.addVehiculeOnGrid(e,new t(i.x,i.y),this.VEHICLE8CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y),this.VEHICLE8CELLS),this.addVehiculeOnGrid(e,new t(i.x,i.y+1),this.VEHICLE8CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+1),this.VEHICLE8CELLS),this.addVehiculeOnGrid(e,new t(i.x,i.y+2),this.VEHICLE8CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+2),this.VEHICLE8CELLS),this.addVehiculeOnGrid(e,new t(i.x,i.y+3),this.VEHICLE8CELLS),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+3),this.VEHICLE8CELLS),!0)},e.add8CellsVehicle90=function(e){var i=new t(-1,-1),n=0;do{var h=0;do{if(i=this.pickTotalRandomCellPosition(e),++h>10){i=new t(-1,-1);break}}while(!this.canPutVehicleHere(i,e,r.EightCells90));if(++n>10){i=new t(-1,-1);break}}while(!this.canOutsideVehicleColumn(i,e));return(-1!=i.x||-1!=i.y)&&(this.addVehiculeOnGrid(e,new t(i.x,i.y),this.VEHICLE8CELLS90),this.addVehiculeOnGrid(e,new t(i.x,i.y+1),this.VEHICLE8CELLS90),this.addVehiculeOnGrid(e,new t(i.x+1,i.y),this.VEHICLE8CELLS90),this.addVehiculeOnGrid(e,new t(i.x+1,i.y+1),this.VEHICLE8CELLS90),this.addVehiculeOnGrid(e,new t(i.x+2,i.y),this.VEHICLE8CELLS90),this.addVehiculeOnGrid(e,new t(i.x+2,i.y+1),this.VEHICLE8CELLS90),this.addVehiculeOnGrid(e,new t(i.x+3,i.y),this.VEHICLE8CELLS90),this.addVehiculeOnGrid(e,new t(i.x+3,i.y+1),this.VEHICLE8CELLS90),!0)},e.addVehiculeOnGrid=function(e,i,n){1==e[i.x][i.y]?e[i.x][i.y]=n+10:(e[i.x][i.y],e[i.x][i.y]=n)},e.pickRandomOutlineCellPosition=function(e){var i=this.getRandomInt(e.length),n=this.getRandomInt(e[0].length);0!=i&&i!=e.length-1&&(n=0==this.getRandomInt(2)?0:e[0].length-1);return new t(i,n)},e.pickMapMiddlCell=function(e){var i=Math.round(e.length/2),n=Math.round(e[0].length/2);return new t(i,n)},e.pickTotalRandomCellPosition=function(e){var i=this.getRandomInt(e.length),n=this.getRandomInt(e[0].length);return new t(i,n)},e.pickRandomFreeCell=function(e){var i=0,n=0;do{i=this.getRandomInt(e.length),n=this.getRandomInt(e[0].length)}while(0==e[i][n]);return new t(i,n)},e.isInBound=function(e,i){return!(e.x<0)&&(!(e.x>=i.length)&&(!(e.y<0)&&!(e.y>=i[0].length)))},e.canPutVehicleHere=function(e,i,n){if(void 0===n&&(n=r.FourthCells),!this.isInBound(new t(e.x,e.y),i))return!1;if(!this.isInBound(new t(e.x+1,e.y),i))return!1;if(!this.isInBound(new t(e.x,e.y+1),i))return!1;if(!this.isInBound(new t(e.x+1,e.y+1),i))return!1;if(!this.freeParkingSpace(i[e.x][e.y]))return!1;if(!this.freeParkingSpace(i[e.x+1][e.y]))return!1;if(!this.freeParkingSpace(i[e.x][e.y+1]))return!1;if(!this.freeParkingSpace(i[e.x+1][e.y+1]))return!1;if(n==r.SixCells||n==r.EightCells){if(!this.isInBound(new t(e.x,e.y+2),i))return!1;if(!this.isInBound(new t(e.x+1,e.y+2),i))return!1;if(!this.freeParkingSpace(i[e.x][e.y+2]))return!1;if(!this.freeParkingSpace(i[e.x+1][e.y+2]))return!1}if(n==r.EightCells){if(!this.isInBound(new t(e.x,e.y+3),i))return!1;if(!this.isInBound(new t(e.x+1,e.y+3),i))return!1;if(!this.freeParkingSpace(i[e.x][e.y+3]))return!1;if(!this.freeParkingSpace(i[e.x+1][e.y+3]))return!1}if(n==r.SixCells90||n==r.EightCells90){if(!this.isInBound(new t(e.x+2,e.y),i))return!1;if(!this.isInBound(new t(e.x+2,e.y+1),i))return!1;if(!this.freeParkingSpace(i[e.x+2][e.y]))return!1;if(!this.freeParkingSpace(i[e.x+2][e.y+1]))return!1}if(n==r.EightCells90){if(!this.isInBound(new t(e.x+3,e.y),i))return!1;if(!this.isInBound(new t(e.x+3,e.y+1),i))return!1;if(!this.freeParkingSpace(i[e.x+3][e.y]))return!1;if(!this.freeParkingSpace(i[e.x+3][e.y+1]))return!1}return!0},e.freeParkingSpace=function(e){return 0==e||1==e||3==e},e.canOutsideVehicleRow=function(e,i){if(-1==e.x||-1==e.y)return!1;for(var n=!0,t=0;t<=e.y;t++)0!=i[e.x][t]&&(n=!1),0!=i[e.x+1][t]&&(n=!1);var h=!0;for(t=e.y;t<i[0].length;t++)0!=i[e.x][t]&&(h=!1),0!=i[e.x+1][t]&&(h=!1);return!(!n&&!h)},e.canOutsideVehicleColumn=function(e,i){if(-1==e.x||-1==e.y)return!1;for(var n=!0,t=0;t<=e.x;t++)0!=i[t][e.y]&&(n=!1),0!=i[t][e.y+1]&&(n=!1);var h=!0;for(t=e.x;t<i.length;t++)0!=i[t][e.y]&&(h=!1),0!=i[t][e.y+1]&&(h=!1);return!(!n&&!h)},e}());l.BARRIERE=1,l.OBSTACLES=2,l.VEHICLE4CELLS=4,l.VEHICLE4CELLS90=5,l.VEHICLE6CELLS=6,l.VEHICLE6CELLS90=7,l.VEHICLE8CELLS=8,l.VEHICLE8CELLS90=9,l.ACTUALSEED=0,i._RF.pop()}}}));

System.register("chunks:///_virtual/ShakeScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,o,r,i,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.randomRange,i=e.Vec3,c=e.Component}],execute:function(){var s;t._RF.push({},"10cf2bVxcVBip+3cFMHnydV","ShakeScreen",void 0);var a=o.ccclass;o.property,e("ShakeScreen",a("ShakeScreen")(s=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this).m_OrigiPos=void 0,n}n(t,e);var o=t.prototype;return o.start=function(){this.m_OrigiPos=this.node.position},o.Shake=function(e){var n=r(-1,1)*e,t=r(-1,1)*e;this.node.position=new i(n,t,this.node.position.z)},t}(c))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/ShopPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./PokiManager.ts","./BasePopup.ts","./ShopSkinIconPrefab.ts","./ShopTrailIconPrefab.ts"],(function(n){"use strict";var e,t,i,o,a,l,r,s,c,p,u,h,m,S,g,f,b,P,d;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,l=n._decorator,r=n.Button,s=n.Node,c=n.Prefab,p=n.instantiate,u=n.director,h=n.resources,m=n.Layout,S=n.UITransform},function(n){g=n.UIManager},function(n){f=n.PokiManager},function(n){b=n.BasePopup},function(n){P=n.ShopSkinIconPrefab},function(n){d=n.ShopTrailIconPrefab}],execute:function(){var C,y,_,k,I,w,T,v,M,B,V,z,A,L,E,D,N,K,U,x,R,Y;a._RF.push({},"e1047BjI19MppJlVdoSMm+D","ShopPopup",void 0);var j=l.ccclass,F=l.property;n("ShopPopup",(C=j("ShopPopup"),y=F({type:r}),_=F({type:r}),k=F({type:r}),I=F({type:s}),w=F({type:s}),T=F({type:c}),v=F({type:c}),M=F({type:s}),B=F({type:s}),C(((Y=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=n.call.apply(n,[this].concat(a))||this,i(e,"m_closeButton",A,o(e)),i(e,"m_TrailsButton",L,o(e)),i(e,"m_SkinsButton",E,o(e)),i(e,"m_TrailsSection",D,o(e)),i(e,"m_SkinsSection",N,o(e)),i(e,"m_TrailIconPrefab",K,o(e)),i(e,"m_SkinIconPrefab",U,o(e)),i(e,"m_trailScrollViewContent",x,o(e)),i(e,"m_skinsScrollViewContent",R,o(e)),e.allTrailIcons=void 0,e.allSkinsIcons=void 0,e}t(e,n),e.create=function(n,t){e.shopPopupCloseCallback=t,e.gameManager=n,h.load("Popups/ShopPopup",e.onPrefabLoaded)},e.closeNow=function(){null!=e.instance&&(e.instance.getComponent(b).closePopup(),e.instance=void 0)};var a=e.prototype;return a.initShopPopup=function(e){this.m_closeButton.node.on(r.EventType.CLICK,this.closePopup,this),this.m_TrailsButton.node.on(r.EventType.CLICK,this.showTrailsMenu,this),this.m_SkinsButton.node.on(r.EventType.CLICK,this.ShowSkinsMenu,this),this.loadIconsPrefab(),this.ShowSkinsMenu(),n.prototype.initPopup.call(this,void 0,e),n.prototype.showPopup.call(this)},a.loadIconsPrefab=function(){this.allTrailIcons=new Array,this.allSkinsIcons=new Array;for(var n=u.getScene().getChildByName("Managers").getComponentInChildren(g).allTrailsData,e=0;e<n.length;e++){var t=p(this.m_TrailIconPrefab);t.setParent(this.m_trailScrollViewContent),t.getComponent(d).init(n[e],this),this.allTrailIcons.push(t)}for(var i=u.getScene().getChildByName("Managers").getComponentInChildren(g).allSkinsData,o=0;o<i.length;o++){var a=p(this.m_SkinIconPrefab);a.setParent(this.m_skinsScrollViewContent),a.getComponent(P).init(i[o],this),this.allSkinsIcons.push(a)}var l=this.m_trailScrollViewContent.getComponent(m);this.m_trailScrollViewContent.getComponent(S).height=Math.round(n.length/2)*l.cellSize.x+Math.round(n.length/2)*l.spacingY+l.paddingTop;var r=this.m_skinsScrollViewContent.getComponent(m);this.m_skinsScrollViewContent.getComponent(S).height=Math.round(i.length/2)*r.cellSize.x+Math.round(i.length/2)*r.spacingY+r.paddingTop},a.showPopup=function(){n.prototype.showPopup.call(this)},a.closePopup=function(){this.m_closeButton.interactable=!1,e.instance=void 0,n.prototype.closePopup.call(this)},a.closeAllMenu=function(){this.m_TrailsSection.active=!1,this.m_SkinsSection.active=!1},a.showTrailsMenu=function(){this.closeAllMenu(),this.m_TrailsSection.active=!0},a.ShowSkinsMenu=function(){this.closeAllMenu(),this.m_SkinsSection.active=!0},a.unselectAllTrailsIcons=function(){for(var n=0;n<this.allTrailIcons.length;n++)this.allTrailIcons[n].getComponent(d).unselectTrail()},a.unselectAllSkinsIcons=function(){for(var n=0;n<this.allSkinsIcons.length;n++)this.allSkinsIcons[n].getComponent(P).unselectSkin()},a.buyStuff=function(n){e.gameManager.removeCoins(n)},a.changeTrail=function(n){e.gameManager.SetVehicleTrail(n)},a.changeSkin=function(n){e.gameManager.SetVehicleSkin(n)},a.showRewardAds=function(n){e.gameManager.m_PokiManager.sendEvent(f.POKIEVENTTYPE.rewardedBreak,(function(){n()}))},e}(b)).shopPopupCloseCallback=void 0,Y.gameManager=void 0,Y.instance=void 0,Y.onPrefabLoaded=function(n,e){Y.instance=p(e),Y.instance.setParent(u.getScene().getChildByPath("UIGame/PopupContainer")),Y.instance.getComponent(Y).initShopPopup(Y.shopPopupCloseCallback)},A=e((z=Y).prototype,"m_closeButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(z.prototype,"m_TrailsButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(z.prototype,"m_SkinsButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(z.prototype,"m_TrailsSection",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(z.prototype,"m_SkinsSection",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(z.prototype,"m_TrailIconPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(z.prototype,"m_SkinIconPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(z.prototype,"m_trailScrollViewContent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(z.prototype,"m_skinsScrollViewContent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=z))||V));a._RF.pop()}}}));

System.register("chunks:///_virtual/ShopSkinIconPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./PlayerInfo.ts","./OkPopup.ts","./YesNoPopup.ts"],(function(t){"use strict";var e,i,n,a,o,c,r,l,u,s,p,m,h,k,f,S,b,g,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,r=t.Sprite,l=t.UITransform,u=t.SpriteFrame,s=t.Button,p=t.Label,m=t.Color,h=t.tween,k=t.Vec3,f=t.Component},function(t){S=t.default},function(t){b=t.PlayerInfo},function(t){g=t.OkPopup},function(t){_=t.YesNoPopup}],execute:function(){var d,y,I,D,C,w,P,v,L,O,T,z,R,B,U,x,F,A,V,E,K;o._RF.push({},"2740e40zVdBRJekRc+50BD1","ShopSkinIconPrefab",void 0);var N=c.ccclass,Y=c.property;t("ShopSkinIconPrefab",(d=N("ShopSkinIconPrefab"),y=Y({type:r}),I=Y({type:r}),D=Y({type:l}),C=Y({type:r}),w=Y({type:u}),P=Y({type:s}),v=Y({type:p}),L=Y({type:p}),O=Y([u]),d((R=e((z=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,n(e,"m_backgroundSprite",R,a(e)),n(e,"m_iconSprite",B,a(e)),n(e,"m_lockImage",U,a(e)),n(e,"m_lockCoinsImage",x,a(e)),n(e,"m_lockVideoImageRessources",F,a(e)),n(e,"m_selectButton",A,a(e)),n(e,"m_nameText",V,a(e)),n(e,"m_priceText",E,a(e)),n(e,"m_allSkinIconsFrame",K,a(e)),e.actualData=void 0,e.actualShopPopup=void 0,e}i(e,t);var o=e.prototype;return o.start=function(){this.m_selectButton.node.on(s.EventType.CLICK,this.onClickIcon,this)},o.init=function(t,e){var i=this;this.actualData=t,this.actualShopPopup=e,this.m_backgroundSprite.color=S.COLOR_LOCK,this.m_nameText.string=this.actualData.name,this.m_priceText.string=this.actualData.price,this.m_allSkinIconsFrame.forEach((function(t){t.name!=i.actualData.icon||(i.m_iconSprite.spriteFrame=t)})),"-1"==this.actualData.price&&(this.m_priceText.string="Video reward",this.m_lockCoinsImage.spriteFrame=this.m_lockVideoImageRessources,this.m_lockCoinsImage.color=m.BLACK),this.isUnlocked()&&this.unlockSkin(),b.getItem("usingSkin","skin_0")==this.actualData.id&&this.selectUsingIconSkin()},o.isUnlocked=function(){return 0==this.actualData.price||"true"==b.getItem("skin_"+this.actualData.id)},o.unlockSkin=function(){this.m_backgroundSprite.color=S.COLOR_UNLOCK,this.m_lockImage.node.active=!1},o.onClickIcon=function(){var t=this;this.puyonAnimation((function(){t.isUnlocked()?t.selectSkin():-1==t.actualData.price?_.create("Get Skin","Do you want to watch a video to get <b> "+t.actualData.name+"</b>?",(function(){t.actualShopPopup.showRewardAds((function(){t.catchThisSkin()}))}),(function(){})):_.create("Buy Skin","Do you want to buy <b>"+t.actualData.name+"<b> for <b>"+t.actualData.price+"</b> coins?",(function(){t.actualData.price<=parseInt(b.getItem("gold","0"))?(t.actualShopPopup.buyStuff(t.actualData.price),t.catchThisSkin()):g.create("Buy Skin","You need <b>"+t.actualData.price+"</b> coins to buy this skin","CLOSE",(function(){}))}),(function(){}))}))},o.catchThisSkin=function(){b.saveItem("skin_"+this.actualData.id,"true"),this.unlockSkin(),this.selectSkin()},o.puyonAnimation=function(t){h().target(this.node).to(.15,{scale:new k(.9,.9,1)},{easing:"circIn"}).delay(0).to(.15,{scale:new k(1,1,1)},{easing:"circIn"}).call((function(){t()})).start()},o.selectUsingIconSkin=function(){this.actualShopPopup.unselectAllSkinsIcons(),this.m_backgroundSprite.color=S.COLOR_SELECT},o.selectSkin=function(){this.selectUsingIconSkin(),b.saveItem("usingSkin",this.actualData.id),this.actualShopPopup.changeSkin(this.actualData.id)},o.unselectSkin=function(){this.isUnlocked()&&(this.m_backgroundSprite.color=S.COLOR_UNLOCK)},e}(f)).prototype,"m_backgroundSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(z.prototype,"m_iconSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(z.prototype,"m_lockImage",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(z.prototype,"m_lockCoinsImage",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(z.prototype,"m_lockVideoImageRessources",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(z.prototype,"m_selectButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(z.prototype,"m_nameText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(z.prototype,"m_priceText",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(z.prototype,"m_allSkinIconsFrame",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=z))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/ShopTrailIconPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./PlayerInfo.ts","./OkPopup.ts","./YesNoPopup.ts"],(function(t){"use strict";var e,i,a,n,o,r,c,l,u,s,p,m,h,f,b,g,_,T,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,c=t.Sprite,l=t.UITransform,u=t.SpriteFrame,s=t.Button,p=t.Label,m=t.Color,h=t.tween,f=t.Vec3,b=t.Component},function(t){g=t.default},function(t){_=t.PlayerInfo},function(t){T=t.OkPopup},function(t){d=t.YesNoPopup}],execute:function(){var y,I,k,S,D,C,w,P,v,L,O,z,R,U,x,B,F,A,E,K,V;o._RF.push({},"2fd6ewrLJpOU680p6LijRJT","ShopTrailIconPrefab",void 0);var N=r.ccclass,Y=r.property;t("ShopTrailIconPrefab",(y=N("ShopTrailIconPrefab"),I=Y({type:c}),k=Y({type:c}),S=Y({type:l}),D=Y({type:c}),C=Y({type:u}),w=Y({type:s}),P=Y({type:p}),v=Y({type:p}),L=Y([u]),y((R=e((z=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,a(e,"m_backgroundSprite",R,n(e)),a(e,"m_iconSprite",U,n(e)),a(e,"m_lockImage",x,n(e)),a(e,"m_lockCoinsImage",B,n(e)),a(e,"m_lockVideoImageRessources",F,n(e)),a(e,"m_selectButton",A,n(e)),a(e,"m_nameText",E,n(e)),a(e,"m_priceText",K,n(e)),a(e,"m_allTrailIconsFrame",V,n(e)),e.actualData=void 0,e.actualShopPopup=void 0,e}i(e,t);var o=e.prototype;return o.start=function(){this.m_selectButton.node.on(s.EventType.CLICK,this.onClickIcon,this)},o.init=function(t,e){var i=this;this.actualData=t,this.actualShopPopup=e,this.m_backgroundSprite.color=g.COLOR_LOCK,this.m_nameText.string=this.actualData.name,this.m_priceText.string=this.actualData.price,this.m_allTrailIconsFrame.forEach((function(t){t.name!=i.actualData.icon||(i.m_iconSprite.spriteFrame=t)})),"-1"==this.actualData.price&&(this.m_priceText.string="Video reward",this.m_lockCoinsImage.spriteFrame=this.m_lockVideoImageRessources,this.m_lockCoinsImage.color=m.BLACK),this.isUnlocked()&&this.unlockTrail(),_.getItem("usingTrail","trail_0")==this.actualData.id&&this.selectUsingIconTrail()},o.isUnlocked=function(){return 0==this.actualData.price||"true"==_.getItem("trail_"+this.actualData.id)},o.unlockTrail=function(){this.m_backgroundSprite.color=g.COLOR_UNLOCK,this.m_lockImage.node.active=!1},o.onClickIcon=function(){var t=this;this.puyonAnimation((function(){t.isUnlocked()?t.selectTrail():-1==t.actualData.price?d.create("Get Trail","Do you want to watch a video to get <b> "+t.actualData.name+"</b>?",(function(){t.actualShopPopup.showRewardAds((function(){t.catchThisTrail()}))}),(function(){})):d.create("Buy Trail","Do you want to buy <b>"+t.actualData.name+"</b> for <b>"+t.actualData.price+"</b> coins?",(function(){t.actualData.price<=parseInt(_.getItem("gold","0"))?(t.actualShopPopup.buyStuff(t.actualData.price),t.catchThisTrail()):T.create("Buy Trail","You need <b>"+t.actualData.price+"</b> coins to buy this trail","CLOSE",(function(){}))}),(function(){}))}))},o.catchThisTrail=function(){_.saveItem("trail_"+this.actualData.id,"true"),this.unlockTrail(),this.selectTrail()},o.puyonAnimation=function(t){h().target(this.node).to(.15,{scale:new f(.9,.9,1)},{easing:"circIn"}).delay(0).to(.15,{scale:new f(1,1,1)},{easing:"circIn"}).call((function(){t()})).start()},o.selectUsingIconTrail=function(){this.actualShopPopup.unselectAllTrailsIcons(),this.m_backgroundSprite.color=g.COLOR_SELECT},o.selectTrail=function(){this.selectUsingIconTrail(),_.saveItem("usingTrail",this.actualData.id),this.actualShopPopup.changeTrail(this.actualData.id)},o.unselectTrail=function(){this.isUnlocked()&&(this.m_backgroundSprite.color=g.COLOR_UNLOCK)},e}(b)).prototype,"m_backgroundSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(z.prototype,"m_iconSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(z.prototype,"m_lockImage",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(z.prototype,"m_lockCoinsImage",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(z.prototype,"m_lockVideoImageRessources",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(z.prototype,"m_selectButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(z.prototype,"m_nameText",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(z.prototype,"m_priceText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(z.prototype,"m_allTrailIconsFrame",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=z))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./PlayerInfo.ts"],(function(n){"use strict";var t,e,o,c;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){o=n.default},function(n){c=n.PlayerInfo}],execute:function(){e._RF.push({},"5a6853lXoNLY5RRZnBJPV0Q","Singleton",void 0);var s="Muted";n("default",function(){function n(){}return n.getInstance=function(){return n.instance||(n.instance=new n),o.CONSOLE||(console.log=function(){}),n.instance},t(n,[{key:"mute",get:function(){var n=c.getItem(s,"0");return"string"==typeof n&&"1"==n},set:function(n){n?c.saveItem(s,"1"):c.saveItem(s,"0")}}]),n}()).instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/Smiley.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Anim.ts"],(function(e){"use strict";var i,t,r,n,a,l,o,p,s,c,u,y,m;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.SpriteRenderer,p=e.SpriteFrame,s=e.Animation,c=e.director,u=e.Vec3,y=e.Component},function(e){m=e.Anim}],execute:function(){var h,f,d,b,g,A,F,R,S,v,w,z,C,M,N;a._RF.push({},"63cdcdgNAhHW5NL39Wn/v3k","Smiley",void 0);var _=l.ccclass,D=l.property;e("Smiley",(h=_("Smiley"),f=D(o),d=D(p),b=D(p),g=D(p),A=D(p),F=D(s),h((v=i((S=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,r(i,"spriteRenderer",v,n(i)),r(i,"angry",w,n(i)),r(i,"upset",z,n(i)),r(i,"party",C,n(i)),r(i,"happy",M,n(i)),r(i,"anim",N,n(i)),i.camera=null,i}t(i,e);var a=i.prototype;return a.start=function(){this.camera=c.getScene().getChildByName("Camera").getChildByName("Main Camera"),this.node.scale=u.ZERO},a.OnMouseDown=function(e){this.playAngryFace()},a.playAngryFace=function(){this.spriteRenderer.spriteFrame=this.angry,this.playAnimation()},a.playHappyFace=function(){this.spriteRenderer.spriteFrame=this.happy,this.playAnimation()},a.playPartyFace=function(){this.spriteRenderer.spriteFrame=this.party,this.playAnimation()},a.playUpsetFace=function(){this.spriteRenderer.spriteFrame=this.upset,this.playAnimation()},a.playAnimation=function(){this.node.scale=u.ZERO,this.node.lookAt(this.camera.position),this.anim.play(m.SMILEY_ANIM)},i}(y)).prototype,"spriteRenderer",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(S.prototype,"angry",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(S.prototype,"upset",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(S.prototype,"party",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(S.prototype,"happy",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(S.prototype,"anim",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=S))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/Sound.ts",["cc"],(function(e){"use strict";var c,o;return{setters:[function(e){c=e.cclegacy,o=e._decorator}],execute:function(){var t,E;c._RF.push({},"0ce6dihXlRAkrQ++MCEWPdI","Sound",void 0);var n=o.ccclass;o.property,e("Sound",n("Sound")(((E=function(){}).BUTTON_PRESSED="ButtonPressed",E.VEHICLE_COLLISION="VehicleCollision",E.VEHICLE_EXIT="VehicleExit",E.VEHICLE_MOVE="VehicleMove",E.COIN="Coin",E.VEHICLE_SELECTION="VehicleSelection",E.HONK="Honk",E.LEVEL_COMPLETED="LevelCompleted",t=E))||t);c._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(n){"use strict";var e,t,i,o,r,u,a,c,l,s;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,a=n.AudioSource,c=n.AudioClip,l=n.Component},function(n){s=n.default}],execute:function(){var d,p,f,m,h,g,y,S;r._RF.push({},"869eaFEdmNDpouT7Y3pUgjp","SoundManager",void 0);var v=u.ccclass,_=u.property;n("SoundManager",(d=v("SoundManager"),p=_(a),f=_(c),d(((S=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return e=n.call.apply(n,[this].concat(r))||this,i(e,"m_AudioSource",g,o(e)),i(e,"m_AudioClip",y,o(e)),e.dictionnary=new Map,e}t(e,n);var r=e.prototype;return r.onLoad=function(){var n=this;e.instance=this,this.m_AudioClip.forEach((function(e){n.dictionnary.set(e.name,e)}))},r.playSound=function(n,e){void 0===e&&(e=1);var t=this.dictionnary.get(n);null!=t?this.m_AudioSource.playOneShot(t,e):console.error("Can't find sound with name "+n)},r.mute=function(){this.m_AudioSource.volume=0,s.getInstance().mute=!0},r.unmute=function(){this.m_AudioSource.volume=1,s.getInstance().mute=!1},e}(l)).instance=void 0,g=e((h=S).prototype,"m_AudioSource",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(h.prototype,"m_AudioClip",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=h))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/Spline.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KnotSpline.ts"],(function(r){"use strict";var t,e,n,o,i,a;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.initializerDefineProperty},function(r){n=r.cclegacy,o=r._decorator,i=r.Vec3},function(r){a=r.KnotSpline}],execute:function(){var s,c,_,p,m;n._RF.push({},"28163BDBhBE/Y1nlbgfvgTx","Spline",void 0);var u=o.ccclass,h=o.property;r("Spline",(s=u("Spline"),c=h({type:a}),s((m=t((p=function(){function r(r,t,n,o,i,a,s,c){e(this,"m_KnotArray",m,this),this.CreationSplineKnot(r,t,n,a,s),this.CreateCornerParking(o,i),this.CreateArrow(c,i,a)}var t=r.prototype;return t.CreationSplineKnot=function(r,t,e,n,o){this.m_KnotArray.push(new a(r,r.m_Row-1,r.m_Col-1,t,e,0,1.5,0,n,o)),this.m_KnotArray.push(new a(r,0,r.m_Col-1,t,e,-1.5,1.5,180,n,o)),this.m_KnotArray.push(new a(r,0,0,t,e,-1.5,-1.5,90,n,o)),this.m_KnotArray.push(new a(r,r.m_Row-1,0,t,e,1.5,-1.5,0,n,o)),this.m_KnotArray.push(new a(r,r.m_Row-1,r.m_Col-1,t,e,1.5,1,0,n,o)),this.m_KnotArray.push(new a(r,r.m_Row-1,r.m_Col-1,t,e,1.5,20,0,n,o))},t.CreateCornerParking=function(r,t){for(var e=1;e<4;e++)t.CreateCornerRoad(r,this,e)},t.CreateArrow=function(r,t,e){for(var n=0;n<4;n++){var o=(this.m_KnotArray[n].m_Vec.x+this.m_KnotArray[n+1].m_Vec.x)/2,a=(this.m_KnotArray[n].m_Vec.y+this.m_KnotArray[n+1].m_Vec.y)/2+.05,s=(this.m_KnotArray[n].m_Vec.z+this.m_KnotArray[n+1].m_Vec.z)/2,c=new i(o,a,s);t.CreateArrowSprite(r,c,e,n)}},r}()).prototype,"m_KnotArray",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Array}}),_=p))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PokiManager.ts","./EndLevelPopup.ts","./ShopPopup.ts"],(function(n){"use strict";var e,t,i,a,o,r,s,l,u,c,p,f,m,h,d,g,_,v,P,b;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){o=n.cclegacy,r=n._decorator,s=n.Canvas,l=n.Node,u=n.Button,c=n.Prefab,p=n.resources,f=n.JsonAsset,m=n.Component,h=n.instantiate,d=n.Vec3,g=n.randomRange,_=n.tween},function(n){v=n.PokiManager},function(n){P=n.EndLevelPopup},function(n){b=n.ShopPopup}],execute:function(){var I,y,w,U,E,M,k,D,S,G,C,T,O,z,L;o._RF.push({},"ad1ddOQjbFAHogGRup99T7o","UIManager",void 0);var B=r.ccclass,V=r.property;n("UIManager",(I=B("UIManager"),y=V({type:v}),w=V({type:s}),U=V([l]),E=V({type:u}),M=V({type:l}),k=V({type:c}),I((G=e((S=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return e=n.call.apply(n,[this].concat(o))||this,i(e,"m_PokiManager",G,a(e)),i(e,"m_uiCanvas",C,a(e)),i(e,"m_inGameUI",T,a(e)),i(e,"m_shopButton",O,a(e)),i(e,"m_coinUI",z,a(e)),i(e,"m_coinUIPrefab",L,a(e)),e.m_GameManager=null,e.m_shopIsOpen=!1,e.m_showPopup=void 0,e.allSkinsData=void 0,e.allTrailsData=void 0,e}t(e,n);var o=e.prototype;return o.onLoad=function(){var n=this;p.load("trailsData",f,(function(e,t){return n.loadTrailData(t.json)})),p.load("skinsData",f,(function(e,t){return n.loadSkinData(t.json)}))},o.loadTrailData=function(n){this.allTrailsData=n},o.loadSkinData=function(n){this.allSkinsData=n},o.init=function(n){this.m_GameManager=n},o.start=function(){this.m_shopButton.node.on(u.EventType.CLICK,this.showShopPopup,this)},o.showEndLevelPopup=function(n,e){var t=this;this.inGameUIVisible(!1);var i=2*n;P.create(this.m_GameManager,n.toString(),i.toString(),(function(){t.m_PokiManager.sendEvent(v.POKIEVENTTYPE.rewardedBreak,(function(){t.showCoinUIEffect(i),t.scheduleOnce((function(){P.closeNow()}),2)}))}),(function(){t.scheduleOnce((function(){this.showCoinUIEffect(n)}),1)}),(function(){t.inGameUIVisible(!0),e()}))},o.inGameUIVisible=function(n){this.m_inGameUI.forEach((function(e){e.active=n}))},o.showShopPopup=function(){var n=this;this.m_shopIsOpen?b.closeNow():(this.m_shopIsOpen=!0,null==P.instance&&this.m_PokiManager.sendEvent(v.POKIEVENTTYPE.gameplayStop),this.m_showPopup=b.create(this.m_GameManager,(function(){null==P.instance&&n.m_PokiManager.pokiEventStart(),n.m_shopIsOpen=!1})))},o.showCoinUIEffect=function(n){for(var e=this,t=this.m_coinUI.getPosition(),i=function(){o=.2+.05*a;var n=h(e.m_coinUIPrefab);n.setParent(e.m_uiCanvas.node),n.setPosition(-38.841,.621,0),r=new d(g(-50.5,50.5),g(-50.5,50.5),0),s=new d(t.x,t.y,0),_().target(n).delay(0).to(.2,{position:r},{easing:"expoOut"}).delay(o).to(.4,{position:s},{easing:"backIn"}).call((function(){e.m_GameManager.addCoins(1),n.destroy()})).start()},a=0;a<n;a++){var o,r,s;i()}},e}(m)).prototype,"m_PokiManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(S.prototype,"m_uiCanvas",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(S.prototype,"m_inGameUI",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(S.prototype,"m_shopButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(S.prototype,"m_coinUI",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(S.prototype,"m_coinUIPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=S))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/Vehicle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Anim.ts","./Smiley.ts","./ActiveExitVehicleFeedBack.ts","./Vibrations.ts","./Sound.ts"],(function(i){"use strict";var t,e,n,o,r,m,a,l,_,s,h,c,p,u,d,y,S,E,V,A,f,C,K,w;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,m=i._decorator,a=i.Node,l=i.Enum,_=i.Animation,s=i.ParticleSystem,h=i.Prefab,c=i.Collider,p=i.Vec3,u=i.tween,d=i.Quat,y=i.instantiate,S=i.math,E=i.director,V=i.Component},function(i){A=i.Anim},function(i){f=i.Smiley},function(i){C=i.ActiveExitVehicleFeedBack},function(i){K=i.default},function(i){w=i.Sound}],execute:function(){var T,v,I,k,x,L,g,P,O,B,M,R,b,z,F,N,H,D,W,G,X,q,U,J,Z,j,Q;r._RF.push({},"98cf5zH+cJFNJBSk1aSnZnr","Vehicle",void 0);var Y,$=m.ccclass,ii=m.property;!function(i){i[i.Small=0]="Small",i[i.Medium=1]="Medium",i[i.Large=2]="Large",i[i.Default=3]="Default"}(Y||(Y={}));var ti=.07;i("Vehicle",(T=$("Vehicle"),v=ii({type:a}),I=ii({type:a}),k=ii({type:l(Y)}),x=ii(_),L=ii(s),g=ii(h),P=ii(f),O=ii(s),B=ii(s),M=ii(a),R=ii(c),b=ii({type:C}),T((N=t((F=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),m=0;m<e;m++)r[m]=arguments[m];return t=i.call.apply(i,[this].concat(r))||this,n(t,"m_VehicleData",N,o(t)),n(t,"m_Body",H,o(t)),n(t,"m_SizeVehicle",D,o(t)),n(t,"m_Anim",W,o(t)),n(t,"m_Smoke",G,o(t)),n(t,"m_CoinPrefab",X,o(t)),n(t,"m_Smiley",q,o(t)),n(t,"m_ImpactBack",U,o(t)),n(t,"m_ImpactFront",J,o(t)),n(t,"m_TrailParticle",Z,o(t)),n(t,"m_Collider",j,o(t)),n(t,"m_EndParking",Q,o(t)),t.m_SoundManager=void 0,t.m_Spline=void 0,t.m_ShakeCamera=void 0,t.m_Game=null,t.m_MoveForward=!1,t.m_MoveBackward=!1,t.m_CanExit=void 0,t.m_MoveToExit=!1,t.m_AnimPlay=!1,t.m_Collide=!1,t.m_SpeedVehicle=20,t.m_SpeedVehicleOnPark=20,t.m_X=void 0,t.m_Z=void 0,t.m_TimerBeforeExitPark=.75,t.m_TimerRotation=.1,t.m_TimerBeforeRotate=.01,t.m_CurrentTimer=0,t.m_CurrentTimerShakeCamera=0,t.m_BodyScale=new p(1,1,1),t.m_tweenPressed=null,t.m_tweenReleased=null,t}e(t,i);var r=t.prototype;return r.onLoad=function(){this.m_BodyScale=this.m_Body.scale},r.update=function(i){this.m_CanExit&&(this.m_CurrentTimer+=1*i,this.m_CurrentTimer>=this.m_TimerBeforeExitPark&&(this.ExitParkingCheckRoad(),this.m_CurrentTimer=0)),this.m_Collide&&(this.m_ShakeCamera.Shake(.1),this.m_CurrentTimerShakeCamera>=.2&&(this.m_Collide=!1,this.m_CurrentTimerShakeCamera=0,this.m_ShakeCamera.node.position=new p(0,0,0)),this.m_CurrentTimerShakeCamera+=i)},r.SetVehiclePosition=function(i,t,e,n,o,r){var m=this;if(!this.m_MoveToExit){this.m_MoveToExit=!0;var a=p.distance(this.node.position,i)/this.m_SpeedVehicleOnPark;this.released(),u(this.node).to(a,{position:i}).call((function(){t?(m.m_Collide=t,m.CollisionVehicleMove(),m.CollideVehicles(e,o,r),m.CollisionBarriere(n),m.CollisionEnable(),m.m_MoveToExit=!1):(m.ExitParkingCheckRoad(),m.m_MoveToExit=!1)})).start()}},r.CollisionBarriere=function(i){i.forEach((function(i){null==i||i.CollisionVehicle()}))},r.CollideVehicles=function(i,t,e){i.forEach((function(i){null==i||i.CollisionVehicleStop(t,e)}))},r.ExitParkingCheckRoad=function(){this.node.eulerAngles.y>-89?this.m_MoveForward?this.CheckExitPark(this.m_Spline.m_KnotArray[2],this.m_Spline.m_KnotArray[3]):this.m_MoveBackward&&this.CheckExitPark(this.m_Spline.m_KnotArray[0],this.m_Spline.m_KnotArray[1]):this.m_MoveForward?this.CheckExitPark(this.m_Spline.m_KnotArray[1],this.m_Spline.m_KnotArray[2]):this.m_MoveBackward&&this.CheckExitPark(this.m_Spline.m_KnotArray[3],this.m_Spline.m_KnotArray[4])},r.CheckExitPark=function(i,t){i.m_VehicleOnMyRoad?this.CompareDistanceVehicle(t)?(i.m_VehicleOnMyRoad=!0,i.m_Knot.m_Timer=0,t.m_Knot.m_Vehicles.push(this),this.ExitPark(),this.m_CanExit=!1):(this.m_CanExit=!0,i.m_Knot.m_Timer=0,this.m_Smiley.playAngryFace(),this.m_SoundManager.playSound(w.HONK)):(i.m_VehicleOnMyRoad=!0,i.m_Knot.m_Timer=0,t.m_Knot.m_Vehicles.push(this),this.ExitPark(),this.m_CanExit=!1)},r.CompareDistanceVehicle=function(i){var t=p.distance(this.node.position,i.m_Vec),e=0;return null!=i.m_Knot.m_Vehicles[i.m_Knot.m_Vehicles.length-1]&&null!=i.m_Knot.m_Vehicles[i.m_Knot.m_Vehicles.length-1].node&&(e=p.distance(i.m_Knot.m_Vehicles[i.m_Knot.m_Vehicles.length-1].node.position,i.m_Vec)),t>e},r.BlockKnot=function(i,t){i.m_VehicleOnMyRoad=!0,t.m_Knot.m_Vehicles.push(this),i.m_Knot.m_Vehicles.splice(i.m_Knot.m_Vehicles.length-1,1),i.m_Knot.m_Timer=0},r.ExitPark=function(){var i=this;if(this.CollisionDisable(),this.playSmokeParticles(),this.scheduleOnce((function(){i.getCoin(),i.m_Game.addCoins(1)}),.5),null!=this.m_Spline){if(this.node.eulerAngles.y>-89){if(this.m_MoveForward){var t=u(this.node).to(this.m_TimerBeforeRotate,{position:new p(this.node.position.x,0,this.node.position.z-.25)}).call((function(){return i.ClearWay()})),e=new d;d.fromEuler(e,0,90,0);var n=u(this.node).to(this.m_TimerRotation,{position:new p(this.node.position.x,0,this.m_Spline.m_KnotArray[3].m_Vec.z),rotation:e}).call((function(){return i.PlayTrailParticle()})),o=u(this.node).to(this.CalculTimeToExit(this.node.position,2),{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x-1.5,0,this.m_Spline.m_KnotArray[3].m_Vec.z)}),r=new d;d.fromEuler(r,0,60,0);var m=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x-.5,0,this.m_Spline.m_KnotArray[3].m_Vec.z),rotation:r}).call((function(){return i.BlockKnot(i.m_Spline.m_KnotArray[3],i.m_Spline.m_KnotArray[4])})),a=new d;d.fromEuler(a,0,30,0);var l=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x,0,this.m_Spline.m_KnotArray[3].m_Vec.z),rotation:a}),_=new d;d.fromEuler(_,0,0,0);var s=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x,0,this.m_Spline.m_KnotArray[3].m_Vec.z+1.5),rotation:_}),h=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[3].m_Vec,3),{position:this.m_Spline.m_KnotArray[4].m_Vec}).call((function(){i.m_EndParking.ActivateFeedBack(),i.m_SoundManager.playSound(w.VEHICLE_EXIT)})),c=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[4].m_Vec,4),{position:this.m_Spline.m_KnotArray[5].m_Vec});u(this.node).sequence(t,n,o,m,l,s,h,c).call((function(){i.m_Game.EndLevel()})).start(),this.m_MoveForward=!1}else if(this.m_MoveBackward){var y=u(this.node).to(this.m_TimerRotation,{position:new p(this.node.position.x,0,this.node.position.z+1)}).call((function(){return i.ClearWay()})),S=new d;d.fromEuler(S,0,270,0);var E=u(this.node).to(this.m_TimerRotation,{position:new p(this.node.position.x,0,this.m_Spline.m_KnotArray[1].m_Vec.z),rotation:S}).call((function(){return i.PlayTrailParticle()})),V=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[0].m_Vec,0),{position:new p(this.m_Spline.m_KnotArray[1].m_Vec.x+1.5,0,this.m_Spline.m_KnotArray[1].m_Vec.z)}),A=new d;d.fromEuler(A,0,-120,0);var f=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[1].m_Vec.x+.5,0,this.m_Spline.m_KnotArray[1].m_Vec.z),rotation:A}).call((function(){return i.BlockKnot(i.m_Spline.m_KnotArray[1],i.m_Spline.m_KnotArray[2])})),C=new d;d.fromEuler(C,0,-150,0);var K=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[1].m_Vec.x,0,this.m_Spline.m_KnotArray[1].m_Vec.z),rotation:C}),T=new d;d.fromEuler(T,0,-180,0);var v=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[1].m_Vec.x,0,this.m_Spline.m_KnotArray[1].m_Vec.z-1.5),rotation:T}),I=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[1].m_Vec,1),{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x,0,this.m_Spline.m_KnotArray[2].m_Vec.z+1.5)}),k=new d;d.fromEuler(k,0,150,0);var x=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x,0,this.m_Spline.m_KnotArray[2].m_Vec.z+.5),rotation:k}).call((function(){return i.BlockKnot(i.m_Spline.m_KnotArray[2],i.m_Spline.m_KnotArray[3])})),L=new d;d.fromEuler(L,0,120,0);var g=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x,0,this.m_Spline.m_KnotArray[2].m_Vec.z),rotation:L}),P=new d;d.fromEuler(P,0,90,0);var O=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x+1.5,0,this.m_Spline.m_KnotArray[2].m_Vec.z),rotation:P}),B=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[2].m_Vec,2),{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x-1.5,0,this.m_Spline.m_KnotArray[3].m_Vec.z)}),M=new d;d.fromEuler(M,0,60,0);var R=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x-.5,0,this.m_Spline.m_KnotArray[3].m_Vec.z),rotation:M}),b=new d;d.fromEuler(b,0,30,0);var z=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x,0,this.m_Spline.m_KnotArray[3].m_Vec.z),rotation:b}).call((function(){return i.BlockKnot(i.m_Spline.m_KnotArray[3],i.m_Spline.m_KnotArray[4])})),F=new d;d.fromEuler(F,0,0,0);var N=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x,0,this.m_Spline.m_KnotArray[3].m_Vec.z+1.5),rotation:F}),H=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[3].m_Vec,3),{position:this.m_Spline.m_KnotArray[4].m_Vec}).call((function(){i.m_EndParking.ActivateFeedBack(),i.m_SoundManager.playSound(w.VEHICLE_EXIT)})),D=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[4].m_Vec,4),{position:this.m_Spline.m_KnotArray[5].m_Vec});u(this.node).sequence(y,E,V,f,K,v,I,x,g,O,B,R,z,N,H,D).call((function(){i.m_Game.EndLevel()})).start(),this.m_MoveBackward=!1}}else if(this.m_MoveForward){var W=u(this.node).to(this.m_TimerBeforeRotate,{position:new p(this.node.position.x-.25,0,this.node.position.z)}).call((function(){return i.ClearWay()})),G=new d;d.fromEuler(G,0,-180,0);var X=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x,0,this.node.position.z),rotation:G}).call((function(){return i.PlayTrailParticle()})),q=u(this.node).to(this.CalculTimeToExit(this.node.position,1),{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x,0,this.m_Spline.m_KnotArray[2].m_Vec.z+1.5)}),U=new d;d.fromEuler(U,0,150,0);var J=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x,0,this.m_Spline.m_KnotArray[2].m_Vec.z+.5),rotation:U}).call((function(){return i.BlockKnot(i.m_Spline.m_KnotArray[2],i.m_Spline.m_KnotArray[3])})),Z=new d;d.fromEuler(Z,0,120,0);var j=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x,0,this.m_Spline.m_KnotArray[2].m_Vec.z),rotation:Z}),Q=new d;d.fromEuler(Q,0,90,0);var Y=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[2].m_Vec.x+1.5,0,this.m_Spline.m_KnotArray[2].m_Vec.z),rotation:Q}),$=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[2].m_Vec,2),{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x-1.5,0,this.m_Spline.m_KnotArray[3].m_Vec.z)}),ii=new d;d.fromEuler(ii,0,60,0);var ti=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x-.5,0,this.m_Spline.m_KnotArray[3].m_Vec.z),rotation:ii}),ei=new d;d.fromEuler(ei,0,30,0);var ni=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x,0,this.m_Spline.m_KnotArray[3].m_Vec.z),rotation:ei}),oi=new d;d.fromEuler(oi,0,0,0);var ri=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[3].m_Vec.x,0,this.m_Spline.m_KnotArray[3].m_Vec.z+1.5),rotation:oi}).call((function(){return i.BlockKnot(i.m_Spline.m_KnotArray[4],i.m_Spline.m_KnotArray[5])})),mi=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[3].m_Vec,3),{position:this.m_Spline.m_KnotArray[4].m_Vec}).call((function(){i.m_EndParking.ActivateFeedBack(),i.m_SoundManager.playSound(w.VEHICLE_EXIT)})),ai=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[4].m_Vec,4),{position:this.m_Spline.m_KnotArray[5].m_Vec});u(this.node).sequence(W,X,q,J,j,Y,$,ti,ni,ri,mi,ai).call((function(){i.m_Game.EndLevel()})).start(),this.m_MoveForward=!1}else if(this.m_MoveBackward){var li=u(this.node).to(this.m_TimerRotation,{position:new p(this.node.position.x+1.5,0,this.node.position.z)}).call((function(){return i.ClearWay()})),_i=new d;d.fromEuler(_i,0,0,0);var si=u(this.node).to(this.m_TimerRotation,{position:new p(this.m_Spline.m_KnotArray[4].m_Vec.x,0,this.node.position.z+1.5),rotation:_i}).call((function(){return i.PlayTrailParticle()})),hi=u(this.node).to(this.CalculTimeToExit(this.node.position,3),{position:this.m_Spline.m_KnotArray[4].m_Vec}).call((function(){i.m_EndParking.ActivateFeedBack(),i.m_SoundManager.playSound(w.VEHICLE_EXIT)})),ci=u(this.node).to(this.CalculTimeToExit(this.m_Spline.m_KnotArray[4].m_Vec,4),{position:this.m_Spline.m_KnotArray[5].m_Vec});u(this.node).sequence(li,si,hi,ci).call((function(){i.m_Game.EndLevel()})).start(),this.m_MoveBackward=!1}}else this.m_MoveForward=!1,this.m_MoveBackward=!1},r.ClearWay=function(){for(var i=0;i<this.m_VehicleData.m_NodeGridArray.length;i++)this.m_VehicleData.m_NodeGridArray[i].m_Occupied=!1},r.CalculTimeToExit=function(i,t){return p.distance(this.m_Spline.m_KnotArray[t+1].m_Vec,i)/this.m_SpeedVehicle},r.CollisionVehicleMove=function(){this.node.eulerAngles.y>-89?(this.m_MoveForward?(this.m_Anim.play(A.ENTER_COLLISION_VEHICLE_FORWARD),this.m_MoveForward=!1,this.m_ImpactFront.play(),this.m_SoundManager.playSound(w.VEHICLE_COLLISION)):this.m_MoveBackward&&(this.m_Anim.play(A.ENTER_COLLISION_VEHICLE_BACKWARD),this.m_MoveBackward=!1,this.m_ImpactBack.play(),this.m_SoundManager.playSound(w.VEHICLE_COLLISION)),this.m_Smiley.playAngryFace(),this.m_SoundManager.playSound(w.HONK),K.getInstance().vibrate(100)):(this.m_MoveForward||this.m_MoveForward?(this.m_Anim.play(A.ENTER_COLLISION_VEHICLE_FORWARD),this.m_MoveForward=!1,this.m_ImpactFront.play(),this.m_SoundManager.playSound(w.VEHICLE_COLLISION)):this.m_MoveBackward&&(this.m_Anim.play(A.ENTER_COLLISION_VEHICLE_BACKWARD),this.m_MoveBackward=!1,this.m_ImpactBack.play(),this.m_SoundManager.playSound(w.VEHICLE_COLLISION)),this.m_Smiley.playAngryFace(),this.m_SoundManager.playSound(w.HONK),K.getInstance().vibrate(100))},r.CollisionVehicleStop=function(i,t){this.node.eulerAngles.y>-89?(1==t&&0==i?this.m_Anim.play(A.COLLISION_VEHICLE_LEFT):-1==t&&0==i&&this.m_Anim.play(A.COLLISION_VEHICLE_RIGHT),1==i&&0==t?this.m_Anim.play(A.COLLISION_VEHICLE_DOWN):-1==i&&0==t&&this.m_Anim.play(A.COLLISION_VEHICLE_UP)):(1==i&&0==t?this.m_Anim.play(A.COLLISION_VEHICLE_RIGHT):-1==i&&0==t&&this.m_Anim.play(A.COLLISION_VEHICLE_LEFT),1==t&&0==i?this.m_Anim.play(A.COLLISION_VEHICLE_DOWN):(1==i&&0==t?this.m_Anim.play(A.COLLISION_VEHICLE_RIGHT):-1==i&&0==t&&this.m_Anim.play(A.COLLISION_VEHICLE_LEFT),1==t&&0==i?this.m_Anim.play(A.COLLISION_VEHICLE_DOWN):-1==t&&0==i&&this.m_Anim.play(A.COLLISION_VEHICLE_UP))),this.m_Smiley.playUpsetFace()},r.ChangeSkinVehicle=function(i,t){var e=this.m_Body.position;this.m_Body.destroy();var n=y(i);n.setPosition(e),n.setParent(t),this.m_Body=n},r.ChangeSkinTrailVehicule=function(i,t){for(var e=0;e<this.m_TrailParticle.length;e++){var n=this.m_TrailParticle[e].position,o=y(i);o.setParent(t),o.setPosition(n),this.m_TrailParticle[e].destroy(),this.m_TrailParticle[e]=o}},r.PrepareToMove=function(i){var t=S.lerp(0,.1,i);this.m_Body.position=new p(0,0,t);var e=S.lerp(0,15,i);this.m_Body.eulerAngles=new p(e,0,0),i=Math.abs(i);var n=S.lerp(1.07*this.m_BodyScale.z,this.m_BodyScale.z*(1-ti),i),o=S.lerp(this.m_BodyScale.x*(1-ti),1.07*this.m_BodyScale.x,i);this.m_Body.scale=new p(n,this.m_BodyScale.y,o)},r.pressed=function(){var i,t;null==(i=this.m_tweenPressed)||i.stop(),null==(t=this.m_tweenReleased)||t.stop(),this.m_tweenPressed=u(this.node).to(.2,{scale:new p(1.07,1-ti,1.07)},{easing:"expoOut"}).start()},r.released=function(){var i,t;null==(i=this.m_tweenPressed)||i.stop(),null==(t=this.m_tweenReleased)||t.stop(),this.m_tweenReleased=u(this.node).to(.5,{scale:new p(1,1,1)},{easing:"backOut"}).start(),u(this.m_Body).to(.5,{scale:this.m_BodyScale,position:new p(0,0,0),eulerAngles:new p(0,0,0)},{easing:"backOut"}).start()},r.playSmokeParticles=function(){this.m_Smoke.play()},r.getCoin=function(){this.m_SoundManager.playSound(w.COIN);var i=y(this.m_CoinPrefab);E.getScene().addChild(i),i.position=this.node.position.add3f(0,1,0),this.scheduleOnce((function(){i.destroy()}),2)},r.brake=function(){this.m_Anim.play(A.VEHICLE_BRAKE),this.m_Smiley.playUpsetFace()},r.PlayTrailParticle=function(){for(var i=0;i<this.m_TrailParticle.length;i++)this.m_TrailParticle[i].getComponent(s).play();this.m_SoundManager.playSound(w.VEHICLE_MOVE)},r.CollisionDisable=function(){this.m_Collider.enabled=!1},r.CollisionEnable=function(){this.m_Collider.enabled=!0},r.AnimationEnd=function(){this.m_AnimPlay=!1},t}(V)).prototype,"m_VehicleData",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(F.prototype,"m_Body",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(F.prototype,"m_SizeVehicle",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.Default}}),W=t(F.prototype,"m_Anim",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(F.prototype,"m_Smoke",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(F.prototype,"m_CoinPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(F.prototype,"m_Smiley",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(F.prototype,"m_ImpactBack",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(F.prototype,"m_ImpactFront",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(F.prototype,"m_TrailParticle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(F.prototype,"m_Collider",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(F.prototype,"m_EndParking",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=F))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/VehicleData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeObject.ts"],(function(e){"use strict";var t,i,r,a,n,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,a=e._decorator,n=e.CCInteger},function(e){o=e.NodeObject}],execute:function(){var c,s,h,l,u,d,m,p,_;r._RF.push({},"87df0DpwGhEIaMUBmJwy/Tq","VehicleData",void 0);var y=a.ccclass,f=a.property;e("VehicleData",(c=y("VehicleData"),s=f({type:o}),h=f({type:n}),l=f({type:n}),c((m=t((d=function(){function e(e,t,r,a,n){i(this,"m_NodeGridArray",m,this),this.m_Vehicle=null,this.m_NumberOfBoxes=0,i(this,"m_MaxLength",p,this),i(this,"m_MaxWidth",_,this),this.m_NodeGridArray=e,this.m_NumberOfBoxes=t,this.m_MaxLength=r,this.m_MaxWidth=a,this.m_Vehicle=n,this.ValideGridCase()}return e.prototype.ValideGridCase=function(){for(var e=0;e<this.m_NodeGridArray.length;e++)this.m_NodeGridArray[e].m_Occupied=!0,this.m_NodeGridArray[e].m_Vehicle=this.m_Vehicle},e}()).prototype,"m_NodeGridArray",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Array}}),p=t(d.prototype,"m_MaxLength",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=t(d.prototype,"m_MaxWidth",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=d))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/VehiclePack.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,c,r,t,a,n;return{setters:[function(e){i=e.applyDecoratedDescriptor,c=e.initializerDefineProperty},function(e){r=e.cclegacy,t=e._decorator,a=e.CCString,n=e.Prefab}],execute:function(){var l,o,u,s,p,h,k;r._RF.push({},"7ce276gSnpLkq/T94ikkUN8","VehiclePack",void 0);var f=t.ccclass,P=t.property;e("VehiclePack",(l=f("VehiclePack"),o=P(a),u=P(n),l((h=i((p=function(){c(this,"m_NamePack",h,this),c(this,"m_VehiclePack",k,this)}).prototype,"m_NamePack",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),k=i(p.prototype,"m_VehiclePack",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=p))||s));r._RF.pop()}}}));

System.register("chunks:///_virtual/Vibrations.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"d9819uJx7xMprN/TGPjoI40","Vibrations",void 0),t("default",function(){function t(){this.isActivated=!0}t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var n=t.prototype;return n.vibrate=function(t){var n,i;this.isActivated&&(window.navigator.vibrate&&(null==(n=window)||null==(i=n.navigator)||i.vibrate(t)))},n.pattern=function(t){var n,i;this.isActivated&&(window.navigator.vibrate&&(null==(n=window)||null==(i=n.navigator)||i.vibrate(t)))},n.stop=function(){var t,n;this.isActivated&&(window.navigator.vibrate&&(null==(t=window)||null==(n=t.navigator)||n.vibrate(0)))},t}()).instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/VictoryParticles.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,n,c,s,a,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){c=t.cclegacy,s=t._decorator,a=t.ParticleSystem2D,o=t.Component}],execute:function(){var l,u,p,y,m,f,h;c._RF.push({},"4a941VNVDBLTaxzqvxRBAAp","VictoryParticles",void 0);var b=s.ccclass,S=s.property;t("VictoryParticles",(l=b("VictoryParticles"),u=S({type:a}),p=S({type:a}),l((f=e((m=function(t){function e(){for(var e,r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return e=t.call.apply(t,[this].concat(c))||this,i(e,"m_particleSystem1",f,n(e)),i(e,"m_particleSystem2",h,n(e)),e}r(e,t);var c=e.prototype;return c.start=function(){},c.play=function(){this.burst(this.m_particleSystem1),this.burst(this.m_particleSystem2)},c.burst=function(t){t.resetSystem(),this.scheduleOnce((function(){t.stopSystem()}),.1)},e}(o)).prototype,"m_particleSystem1",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=e(m.prototype,"m_particleSystem2",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/YesNoPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePopup.ts"],(function(e){"use strict";var o,t,p,i,n,s,a,u,l,r,c,P,y;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,p=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,a=e.Label,u=e.RichText,l=e.Button,r=e.instantiate,c=e.director,P=e.resources},function(e){y=e.BasePopup}],execute:function(){var N,h,b,f,d,m,g,_,v,B,T,Y;n._RF.push({},"78db6oI8NtDn43pS7ZrZ31K","YesNoPopup",void 0);var C=s.ccclass,w=s.property;e("YesNoPopup",(N=C("YesNoPopup"),h=w({type:a}),b=w({type:u}),f=w({type:l}),d=w({type:l}),N(((Y=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return o=e.call.apply(e,[this].concat(n))||this,p(o,"m_TitleText",_,i(o)),p(o,"m_MessageText",v,i(o)),p(o,"m_YesButton",B,i(o)),p(o,"m_NoButton",T,i(o)),o}t(o,e),o.create=function(e,t,p,i){o.yesNoPopupTitle=e,o.yesNoPopupMessage=t,o.yesNoPopupYesCallback=p,o.yesNoPopupNoCallback=i,P.load("Popups/YesNoPopup",o.onPrefabLoaded)};var n=o.prototype;return n.initYesNoPopup=function(o,t,p,i){var n=this;this.m_TitleText.string=o,this.m_MessageText.string="<color=#4B4B4B>"+t+"</color>",this.m_YesButton.node.on(l.EventType.CLICK,(function(){p(),n.closePopup()}),this),this.m_NoButton.node.on(l.EventType.CLICK,(function(){i(),n.closePopup()}),this),e.prototype.initPopup.call(this,void 0,void 0),e.prototype.showPopup.call(this)},n.showPopup=function(){e.prototype.showPopup.call(this)},n.closePopup=function(){this.m_YesButton.interactable=!1,this.m_NoButton.interactable=!1,e.prototype.closePopup.call(this)},o}(y)).yesNoPopupTitle=void 0,Y.yesNoPopupMessage=void 0,Y.yesNoPopupYesCallback=void 0,Y.yesNoPopupNoCallback=void 0,Y.onPrefabLoaded=function(e,o){var t=r(o);t.setParent(c.getScene().getChildByPath("UIGame/PopupContainer")),t.getComponent(Y).initYesNoPopup(Y.yesNoPopupTitle,Y.yesNoPopupMessage,Y.yesNoPopupYesCallback,Y.yesNoPopupNoCallback)},_=o((g=Y).prototype,"m_TitleText",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=o(g.prototype,"m_MessageText",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=o(g.prototype,"m_YesButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=o(g.prototype,"m_NoButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g))||m));n._RF.pop()}}}));
