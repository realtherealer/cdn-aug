function KeyboardInputManager(){this.events={},this.listen()}KeyboardInputManager.prototype.on=function(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)},KeyboardInputManager.prototype.emit=function(t,e){var n=this.events[t];n&&n.forEach((function(t){t(e)}))},KeyboardInputManager.prototype.listen=function(){var t=this,e={38:0,39:1,40:2,37:3,75:0,76:1,74:2,72:3,87:0,68:1,83:2,65:3};document.addEventListener("keydown",(function(n){var a=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey,i=e[n.which];a||(void 0!==i&&(n.preventDefault(),t.emit("move",i)),32===n.which&&t.restart.bind(t)(n))}));var n,a,i=document.getElementsByClassName("retry-button")[0];i.addEventListener("click",this.restart.bind(this)),i.addEventListener("touchend",this.restart.bind(this));var s=document.getElementsByClassName("game-container")[0];s.addEventListener("touchstart",(function(t){t.touches.length>1||(n=t.touches[0].clientX,a=t.touches[0].clientY,t.preventDefault())})),s.addEventListener("touchmove",(function(t){t.preventDefault()})),s.addEventListener("touchend",(function(e){if(!(e.touches.length>0)){var i=e.changedTouches[0].clientX-n,s=Math.abs(i),r=e.changedTouches[0].clientY-a,o=Math.abs(r);Math.max(s,o)>10&&t.emit("move",s>o?i>0?1:3:r>0?2:0)}}))},KeyboardInputManager.prototype.restart=function(t){t.preventDefault(),this.emit("restart")};